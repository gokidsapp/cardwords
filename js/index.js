!function(t){function e(e){for(var n,r,a=e[0],l=e[1],c=e[2],h=0,u=[];h<a.length;h++)r=a[h],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&u.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(d&&d(e);u.length;)u.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==s[l]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={index:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var d=l;o.push([1,"chunk-vendors"]),i()}({1:function(t,e,i){t.exports=i("56d7")},"11f4":function(t,e,i){},"1a86":function(t,e,i){},"36f1":function(t,e,i){"use strict";i("fde1")},"3fb0":function(t,e,i){"use strict";i("e2ff")},"46c7":function(t,e,i){"use strict";i("9f6c")},"53c0":function(t,e,i){},5684:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);var n=i("2b0e"),s=(i("14d9"),i("b7ef"),i("da7e")),o=i.n(s),r=i("d7ac"),a=i.n(r),l=i("1157"),c=i.n(l),d=i("c9bf"),h=i("4378");let u=document.getElementById("canvas"),f=document.getElementById("teacherCanvas"),p=document.getElementById("nextAnimaCanvas"),m=document.getElementById("playBtn"),g=document.getElementById("clearBtn"),v=null,w=document.getElementById("container"),y=!1,x=!1,k=[],b=!1,_=0,C=[],T=[],S=[],L=function(t){t.preventDefault()};var P={props:["word","lan"],data:()=>({isMask:0,penWidth:12,loopPlay:0,inputText:"",charPixels:[],currentCharIndex:0,pixelsThreshold:.95,strokIndex:0,pointId:0}),created(){},methods:{linePoints(t,e){let i=t.parent().line(t.cx(),t.cy(),e.cx(),e.cy()).stroke({color:"#000",width:2}).attr("data-start",t.id()).attr("data-end",e.id);this.createMidPointForLine(i)},createMidPointForLine(t){let e=t.parent(),i=t.attr("x1"),n=t.attr("y1"),s=t.attr("x2"),o=t.attr("y2"),r=(i+s)/2,a=(n+o)/2,l=e.circle(10).cx(r).cy(a).fill("#aaa").id("p"+this.pointId++),c=t.attr("data-start"),d=l.attr("data-end");e.line(i,n,r,a).stroke({color:"#000",width:2}).attr("stroke-dasharray","5,5").attr("data-start",c).attr("data-end",d),e.line(r,a,s,o).stroke({color:"#000",width:2})},svgTouchEnd(t){if(this.svgTarget){let e=Object(h.a)(this.svgTarget),i=e.attr("data-point"),{offsetX:n,offsetY:s}=this.getSvgOffset(t),o=e.parent().find('line[data-m="'+i+'"]');return o[0].attr("x2",n).attr("y2",s).attr("stroke-dasharray",null),this.createMidPointForLine(o[0]),o[1].attr("x1",n).attr("y1",s).attr("stroke-dasharray",null),this.createMidPointForLine(o[1]),e.parent().find('line[data-line="'+i+'"]').remove(),void(this.svgTarget=null)}this.charPixels[this.currentCharIndex];this.svgTarget=null;let{offsetX:e,offsetY:i}=this.getSvgOffset(t),n=this.svgdraw.findOne("#stroke"+this.strokIndex);n||(n=this.svgdraw.group().attr("id","stroke"+this.strokIndex));let s=n.find("circle");if(s.length<2){let t=n.circle(10).cx(e).cy(i).fill("#f06").id("p"+this.pointId++);1==s.length&&this.linePoints(s[0],t)}},svgTouchMove(t){if(this.svgTarget){let{offsetX:e,offsetY:i}=this.getSvgOffset(t),n=Object(h.a)(this.svgTarget).center(e,i),s=n.attr("data-point"),o=n.parent().find('line[data-m="'+s+'"]');o[0].attr("x2",e).attr("y2",i),o[1].attr("x1",e).attr("y1",i)}},svgTouchStart(t){"circle"===Object(h.a)(t.target).type?this.svgTarget=t.target:this.svgTarget=null},getOffset(t,e){if(t.touches){const i=e.getBoundingClientRect(),n=t.touches[0]||t.changedTouches[0];return{offsetX:n.clientX-i.left,offsetY:n.clientY-i.top}}{let{offsetX:e,offsetY:i}=t;return{offsetX:e,offsetY:i}}},getSvgOffset(t){if(t.touches){const e=this.$refs.container.getBoundingClientRect(),i=t.touches[0]||t.changedTouches[0];return{offsetX:i.clientX-e.left,offsetY:i.clientY-e.top}}{let{offsetX:e,offsetY:i}=t;return{offsetX:e,offsetY:i}}},clickClear(){if(this.isMask){let t=this.charPixels[this.currentCharIndex];t.stroks&&t.stroks.pop(),this.$refs.trace.getContext("2d").clearRect(0,0,this.$refs.trace.width,this.$refs.trace.height),this.reDrawTrace()}},doneStrokPoint(){this.charPixels[this.currentCharIndex].stroks.push([])},drawTracePointCircle(t,e){const i=2*Math.PI;let n=this.$refs.trace.getContext("2d");n.beginPath(),n.arc(t,e,5,0,i),n.fillStyle="blue",n.fill(),n.beginPath()},reDrawTrace(){let t=this.charPixels[this.currentCharIndex];t.stroks&&0!=t.stroks.length||(t.stroks=[[]]);let e=this.$refs.trace.getContext("2d");for(let i of t.stroks){let t=null;for(let n of i)this.drawTracePointCircle(n.x,n.y),t&&(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.strokeStyle="red",e.lineWidth=3,e.stroke()),t=n}},tracePoint(t){let e=this.charPixels[this.currentCharIndex],{offsetX:i,offsetY:n}=this.getOffset(t,this.$refs.trace);e.stroks&&0!=e.stroks.length||(e.stroks=[[]]);let s=e.stroks.length-1,o=e.stroks[s];this.drawTracePointCircle(i,n);let r=this.$refs.trace.getContext("2d");if(o.length>0){let t=o[o.length-1];r.moveTo(t.x,t.y),r.lineTo(i,n),r.strokeStyle="red",r.lineWidth=3,r.stroke()}o.push({x:i,y:n})},resizeCanvas(){Array.from(w.querySelectorAll("canvas")).map(t=>{t.width=w.offsetWidth,t.height=w.offsetHeight}),this.local.grid&&this.drawGrid()},charWidth:(t,e)=>t.measureText(e).width+20*e.length,drawGrid(){let t=this.$refs.canvasbg,e=this.$refs.canvasbg.getContext("2d");e.strokeStyle="#ddd",e.lineWidth=1,e.clearRect(0,0,t.width,t.height);const i=40*(1+.1*this.scale);e.setLineDash([10,10]);let n=t.height/2;n-=1.5*i;let s=2*parseInt(n/(3*i))+1,o=n-=3*parseInt(n/(3*i))*i;1==s&&(s=parseInt((t.height-40)/(3*i)),o=(t.height-3*i*s)/2,n=o);for(let o=0;o<s;o++)e.beginPath(),e.setLineDash([]),e.moveTo(0,n),e.lineTo(t.width,n),e.stroke(),n+=i,e.beginPath(),e.setLineDash([10,10]),e.moveTo(0,n),e.lineTo(t.width,n),e.stroke(),n+=i,e.moveTo(0,n),e.lineTo(t.width,n),e.stroke(),e.beginPath(),e.setLineDash([]),n+=i,e.moveTo(0,n),e.lineTo(t.width,n),e.stroke();let r=this.$refs.maskCanvas,a=r.getContext("2d");a.clearRect(0,0,r.width,r.height),a.fillStyle="black",a.font=2*i+"px Arial",this.penWidth=parseInt(a.font,10)/20,a.textBaseline="middle",a.fillStyle="#ddd";let l=this.inputText||this.word&&this.word[this.lan];if(this.charPixels.length=0,this.currentCharIndex=0,l){let n=l.split(""),s=0;for(let r=1,c=0;r<=n.length;r++){let d=l.substring(c,r);this.charWidth(a,d)+40>t.width?("en"==this.lan?(d=l.substring(c,r-1)+"-",this.charWidth(a,d)+40<t.width?c=r-1:(d=l.substring(c,r-2)+"-",c=r-2)):(d=l.substring(c,r-1),c=r-1),this.drawText(a,e,d,20,3*s*i+o+1.5*i),s++,r=c):r==n.length&&this.drawText(a,e,l.substring(c,r),20,3*s*i+o+1.5*i)}}},drawText(t,e,i,n,s){let o=i.split(""),r=n;for(let i of o){t.fillText(i,r+10,s);let n=t.measureText(i).width+20;const o=parseInt(t.font,10)+20;let a=s-o/2;if(" "!=i){e.strokeRect(r,a,n,o);let s=this.getpixelamount(this.$refs.maskCanvas,t,r,a,n,o);this.charPixels.push({pixels:s,char:i,x:r,y:a,w:n,h:o,ok:0})}r+=n}},getpixelamount(t,e,i,n,s,o){var r=e.getImageData(i,n,s,o),a=r.data.length,l=0;for(let t=0;t<a;t+=4)(r.data[t]>0||r.data[t+1]>0||r.data[t+2]>0||r.data[t+3]>0)&&l++;return l},random_colour(){for(var t=new String,e=0;e<3;e++)t=t.concat(Math.floor(13*Math.random()).toString(16).toUpperCase());return t="#"+t},fmtWords(){let t=this.lan,e=this.word;return("en"==t?e[t].split(/[^a-z]/gi):e[t].split("")).join("<br />")},clickPaly(){this.loopPlay++,this.loopPlay>2&&(this.loopPlay=0)},async recognize(){const t=await Object(d.createWorker)("chi_tra");await t.recognize(this.$refs.canvas.toDataURL());await t.terminate()},valid(){return 0==this.charPixels.filter(t=>!t.ok).length}},watch:{"$store.state.local.grid":{handler(t){this.$refs.canvasbg.style.display=t?"":"none"}},scale:{handler(t){this.drawGrid()}},word:{deep:!0,handler(t){this.inputText="",T.length=0,C.length=0,S.length=0,this.resizeCanvas()}}},beforeDestroy(){document.removeEventListener("touchmove",L)},mounted(){this.svgdraw=new h.a(this.$refs.maskSvg).size("100%","100%"),u=document.getElementById("canvas"),f=document.getElementById("teacherCanvas"),p=document.getElementById("nextAnimaCanvas"),m=document.getElementById("playBtn"),g=document.getElementById("clearBtn"),v=u.getContext("2d"),w=document.getElementById("container");let t=this;m.addEventListener("click",(async function(){do{if(0===T.length)return;if(x=!0,o(u),!x)return;if(await a(u,T,!0,0,t.local.nextSpeed))return;await r(1e3)}while(2==t.loopPlay);t.loopPlay=0})),this.$refs.maskBtn.addEventListener("click",(async function(){C=T.slice(),o(f),await a(f,C,0,t.local.maskColor),e()})),g.addEventListener("click",e);function e(){k.length=0,o(u),T.length=0,S.length=0}function i(e){if(y=!0,!y)return;b=!0,_=new Date,v.beginPath();let{offsetX:i,offsetY:n}=t.getOffset(e,u);v.moveTo(i,n),k.push({x:i,y:n,t:-1}),t.penColor=t.random_colour()}function n(){if(b=!1,t.local.grid){let{x:e,y:i,w:n,h:s,pixels:r}=t.charPixels[t.currentCharIndex];if(k.length>0){let t=e+n,r=i+s;for(let n of k)if(n.x<e||n.x>t||n.y<i||n.y>r)return T.length=k.length=0,o(u),void a(u,S.flat(),!1,0,0)}let l=t.getpixelamount(u,v,e,i,n,s)/r;if(k.length>1&&T.push(k),k=[],l>t.pixelsThreshold&&l<1.2){t.charPixels[t.currentCharIndex].ok=1;let s=t.$refs.canvasbg.getContext("2d");s.font="30px Arial",s.fillStyle="green",s.fillText("✔",e-s.measureText("✔").width/2+n/2,i-5),t.currentCharIndex++,t.currentCharIndex>=t.charPixels.length&&t.$emit("next"),S.push(T),T=[]}else if(l>=1.2)return T.length=k.length=0,o(u),void a(u,S.flat(),!1,0,0)}t.isMask&&T.length==C.length&&C.length==T.length&&t.recognize()}function s(e){if(!y||!b)return;let{offsetX:i,offsetY:n}=t.getOffset(e,u);v.strokeStyle=t.penColor,v.lineWidth=t.penWidth,v.lineCap="round",v.lineTo(i,n),v.stroke(),k.push({x:i,y:n,t:(new Date).getTime()-_.getTime(),color:v.strokeStyle,width:t.penWidth}),_=new Date}function o(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}async function r(t){return new Promise(e=>setTimeout(e,t))}async function a(t,e,i,n,s=1){let o=t.getContext("2d");o.beginPath();let a=t.startId=(new Date).getTime();for(let l=0;l<e.length;l++)for(let c=0,d=e[l];c<d.length;c++){const{x:e,y:l,t:h,color:u,width:f}=d[c];if(t.startId!=a)return a;h<0?(o.beginPath(),o.moveTo(e,l)):(o.lineWidth=f,o.strokeStyle=n||u,o.lineTo(e,l),o.stroke()),i&&await r(h*s)}}"ontouchstart"in window?(this.$refs.trace.addEventListener("touchend",this.tracePoint),u.addEventListener("touchend",n),u.addEventListener("touchstart",i),u.addEventListener("touchmove",s),document.addEventListener("touchmove",L,{passive:!1}),this.svgdraw.on("touchend",this.svgTouchEnd).on("touchstart",this.svgTouchStart).on("touchmove",this.svgTouchMove)):(this.$refs.trace.addEventListener("mouseup",this.tracePoint),u.addEventListener("mousedown",i),u.addEventListener("mouseup",n),u.addEventListener("mousemove",s),this.svgdraw.on("mouseup",this.svgTouchEnd).on("mousedown",this.svgTouchStart).on("mousemove",this.svgTouchMove)),window.addEventListener("resize",this.resizeCanvas),this.resizeCanvas(),async function e(){o(p),C.length&&T.length<C.length&&await a(p,[C[T.length]],!0,0,t.local.nextSpeed),await r(500),await e()}()},computed:{penColor:{get(){return this.$store.state.local.penColor},set(t){this.saveLocal({penColor:t})}}}},I=(i("36f1"),i("2877")),E=Object(I.a)(P,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","flex-direction":"column",position:"absolute",top:"0",left:"0",right:"0",bottom:"0"}},[e("div",{attrs:{id:"topbts"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[e("span",[e("font-awesome-icon",{attrs:{icon:"pen","fixed-width":""}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.penWidth,expression:"penWidth",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"20",step:"1"},domProps:{value:t.penWidth},on:{__r:function(e){t.penWidth=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})],1),e("span",[e("font-awesome-icon",{attrs:{icon:"magnifying-glass","fixed-width":""}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.scale,expression:"scale",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"10",step:"1"},domProps:{value:t.scale},on:{__r:function(e){t.scale=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})],1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.penColor,expression:"penColor"}],attrs:{type:"color"},domProps:{value:t.penColor},on:{input:function(e){e.target.composing||(t.penColor=e.target.value)}}})])]),e("div",{staticStyle:{"flex-grow":"1"}},[e("div",{ref:"container",attrs:{id:"container"}},[(t.word&&t.maskWord,t._e()),e("canvas",{ref:"canvasbg",attrs:{id:"bg"}}),e("canvas",{ref:"maskCanvas",attrs:{id:"mask"}}),e("canvas",{attrs:{id:"teacherCanvas"}}),e("canvas",{attrs:{id:"nextAnimaCanvas"}}),e("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"trace",attrs:{id:"trace"}}),e("svg",{directives:[{name:"show",rawName:"v-show",value:t.isMask,expression:"isMask"}],ref:"maskSvg"}),e("canvas",{directives:[{name:"show",rawName:"v-show",value:!t.isMask,expression:"!isMask"}],ref:"canvas",staticStyle:{"z-index":"1"},attrs:{id:"canvas"}})])]),e("div",{staticStyle:{width:"100%"},attrs:{id:"bts"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[e("a",{class:{selected:2==t.loopPlay},attrs:{id:"playBtn"},on:{click:function(e){return t.clickPaly()}}},[e("font-awesome-icon",{attrs:{icon:["fas","play"],"fixed-width":""}})],1),e("a",{ref:"maskBtn",class:{selected:t.isMask},on:{click:function(e){t.isMask=!t.isMask,t.loopPlay=0}}},[e("font-awesome-icon",{attrs:{icon:["fas","mask"],"fixed-width":""}})],1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],ref:"inputText",staticStyle:{width:"2rem"},domProps:{value:t.inputText},on:{focus:function(e){t.inputText=""},blur:t.drawGrid,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.inputText.blur()},input:function(e){e.target.composing||(t.inputText=e.target.value)}}}),t.isMask?e("a",{on:{click:function(e){return t.doneStrokPoint()}}},[t._v("@")]):t._e(),e("a",{attrs:{id:"clearBtn"},on:{click:function(e){t.loopPlay=0,t.clickClear()}}},[e("font-awesome-icon",{attrs:{icon:["fas","eraser"],"fixed-width":""}})],1)])])])}),[],!1,null,"0edd0afd",null).exports;let O=document.getElementById("canvas"),W=document.getElementById("maskCanvas"),$=document.getElementById("nextCanvas"),B=document.getElementById("playBtn"),M=document.getElementById("clearBtn"),z=null,D=document.getElementById("container"),j=!1,A=!1,N=[],U=!1,Y=0,X=[],G=[],R=function(t){t.preventDefault()};var F={props:["word","lan"],data:()=>({isMask:0,penWidth:5,loopPlay:0,inputText:""}),created(){},methods:{resizeCanvas(){Array.from(D.querySelectorAll("canvas")).map(t=>{t.width=D.offsetWidth,t.height=D.offsetHeight}),this.local.grid&&this.drawGrid()},drawGrid(){let t=this.$refs.canvasbg,e=this.$refs.canvasbg.getContext("2d");e.strokeStyle="#ddd",e.lineWidth=1,e.clearRect(0,0,t.width,t.height);const i=40*(1+.1*this.scale);e.setLineDash([10,10]);let n=t.height/2;n-=1.5*i;let s=2*parseInt(n/(3*i))+1,o=n-=3*parseInt(n/(3*i))*i;1==s&&(s=parseInt((t.height-40)/(3*i)),o=(t.height-3*i*s)/2,n=o);for(let o=0;o<s;o++)e.beginPath(),e.setLineDash([]),e.moveTo(0,n),e.lineTo(t.width,n),e.stroke(),n+=i,e.beginPath(),e.setLineDash([10,10]),e.moveTo(0,n),e.lineTo(t.width,n),e.stroke(),n+=i,e.moveTo(0,n),e.lineTo(t.width,n),e.stroke(),e.beginPath(),e.setLineDash([]),n+=i,e.moveTo(0,n),e.lineTo(t.width,n),e.stroke();e.fillStyle="black",e.font=2*i+"px Arial",e.textBaseline="middle",e.fillStyle="#ddd";let r=this.inputText||this.word&&this.word[this.lan];if(r){let n=r.split(""),s=0;for(let a=1,l=0;a<=n.length;a++){let c=r.substring(l,a);e.measureText(c).width+40>t.width?("en"==this.lan?(c=r.substring(l,a-1)+"-",e.measureText(c).width+40<t.width?l=a-1:(c=r.substring(l,a-2)+"-",l=a-2)):(c=r.substring(l,a-1),l=a-1),e.fillText(c,20,3*s*i+o+1.5*i),s++,a=l):a==n.length&&e.fillText(r.substring(l,a),20,3*s*i+o+1.5*i)}}},fmtWords(){let t=this.lan,e=this.word;return("en"==t?e[t].split(/[^a-z]/gi):e[t].split("")).join("<br />")},clickPaly(){this.loopPlay++,this.loopPlay>2&&(this.loopPlay=0)},async recognize(){const t=await Object(d.createWorker)("chi_tra");await t.recognize(this.$refs.canvas.toDataURL());await t.terminate()},selected:()=>!1,valid:()=>!1},watch:{"$store.state.local.grid":{handler(t){this.$refs.canvasbg.style.display=t?"":"none"}},scale:{handler(t){this.drawGrid()}},word:{deep:!0,handler(t){this.inputText="",this.resizeCanvas()}}},beforeDestroy(){document.removeEventListener("touchmove",R)},mounted(){O=document.getElementById("canvas"),W=document.getElementById("maskCanvas"),$=document.getElementById("nextCanvas"),B=document.getElementById("playBtn"),M=document.getElementById("clearBtn"),z=O.getContext("2d"),D=document.getElementById("container");let t=this;function e(){N.length=0,r(O),G.length=0}function i(t){if(t.touches){const e=O.getBoundingClientRect(),i=t.touches[0]||t.changedTouches[0];return{offsetX:i.clientX-e.left,offsetY:i.clientY-e.top}}{let{offsetX:e,offsetY:i}=t;return{offsetX:e,offsetY:i}}}function n(t){if(j=!0,!j)return;U=!0,Y=new Date,z.beginPath();let{offsetX:e,offsetY:n}=i(t);z.moveTo(e,n),N.push({x:e,y:n,t:-1})}function s(){U=!1,N.length>1&&G.push(N),N=[],t.isMask&&G.length==X.length&&X.length==G.length&&t.recognize()}function o(e){if(!j||!U)return;let{offsetX:n,offsetY:s}=i(e);N.push({x:n,y:s,t:(new Date).getTime()-Y.getTime(),color:z.strokeStyle,width:t.penWidth}),z.strokeStyle=t.penColor,z.lineWidth=t.penWidth,z.lineTo(n,s),z.stroke(),Y=new Date}function r(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}async function a(t){return new Promise(e=>setTimeout(e,t))}async function l(t,e,i,n,s=1){let o=t.getContext("2d");o.beginPath();let r=t.startId=(new Date).getTime();for(let l=0;l<e.length;l++)for(let c=0,d=e[l];c<d.length;c++){const{x:e,y:l,t:h,color:u,width:f}=d[c];if(t.startId!=r)return r;h<0?(o.beginPath(),o.moveTo(e,l)):(o.lineWidth=f,o.strokeStyle=n||u,o.lineTo(e,l),o.stroke()),i&&await a(h*s)}}document.addEventListener("touchmove",R,{passive:!1}),B.addEventListener("click",(async function(){do{if(0===G.length)return;if(A=!0,r(O),!A)return;if(await l(O,G,!0,0,t.local.nextSpeed))return;await a(1e3)}while(2==t.loopPlay);t.loopPlay=0})),this.$refs.maskBtn.addEventListener("click",(async function(){X=G.slice(),r(W),await l(W,X,0,t.local.maskColor),e()})),M.addEventListener("click",e),O.addEventListener("touchstart",n),O.addEventListener("mousedown",n),O.addEventListener("mouseup",s),O.addEventListener("touchend",s),O.addEventListener("mousemove",o),O.addEventListener("touchmove",o),window.addEventListener("resize",this.resizeCanvas),this.resizeCanvas(),async function e(){r($),X.length&&G.length<X.length&&await l($,[X[G.length]],!0,0,t.local.nextSpeed),await a(500),await e()}()},computed:{penColor:{get(){return this.$store.state.local.penColor},set(t){this.saveLocal({penColor:t})}}}},H=(i("e887"),Object(I.a)(F,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","flex-direction":"column",position:"absolute",top:"0",left:"0",right:"0",bottom:"0"}},[e("div",{attrs:{id:"topbts"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[e("span",[e("font-awesome-icon",{attrs:{icon:"pen","fixed-width":""}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.penWidth,expression:"penWidth",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"20",step:"1"},domProps:{value:t.penWidth},on:{__r:function(e){t.penWidth=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})],1),e("span",[e("font-awesome-icon",{attrs:{icon:"magnifying-glass","fixed-width":""}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.scale,expression:"scale",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"10",step:"1"},domProps:{value:t.scale},on:{__r:function(e){t.scale=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})],1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.penColor,expression:"penColor"}],attrs:{type:"color"},domProps:{value:t.penColor},on:{input:function(e){e.target.composing||(t.penColor=e.target.value)}}})])]),e("div",{staticStyle:{"flex-grow":"1"}},[e("div",{ref:"container",attrs:{id:"container"}},[(t.word&&t.maskWord,t._e()),e("canvas",{ref:"canvasbg"}),e("canvas",{attrs:{id:"maskCanvas"}}),e("canvas",{attrs:{id:"nextCanvas"}}),e("canvas",{ref:"canvas",staticStyle:{"z-index":"1"},attrs:{id:"canvas"}})])]),e("div",{staticStyle:{width:"100%"},attrs:{id:"bts"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[e("a",{class:{selected:2==t.loopPlay},attrs:{id:"playBtn"},on:{click:function(e){return t.clickPaly()}}},[e("font-awesome-icon",{attrs:{icon:["fas","play"],"fixed-width":""}})],1),e("a",{ref:"maskBtn",class:{selected:t.isMask},on:{click:function(e){t.isMask=!t.isMask,t.loopPlay=0}}},[e("font-awesome-icon",{attrs:{icon:["fas","mask"],"fixed-width":""}})],1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],ref:"inputText",staticStyle:{width:"2rem"},domProps:{value:t.inputText},on:{focus:function(e){t.inputText=""},blur:t.drawGrid,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.inputText.blur()},input:function(e){e.target.composing||(t.inputText=e.target.value)}}}),e("a",{attrs:{id:"clearBtn"},on:{click:function(e){t.loopPlay=0}}},[e("font-awesome-icon",{attrs:{icon:["fas","eraser"],"fixed-width":""}})],1)])])])}),[],!1,null,"1cf4bbe9",null)).exports,J=i("b532");function q(t,e,i){this.x=t,this.y=e,this.size=i||120}const Q=function(t,e){this.currentStrokeOrder=0,this.descriptorList=t,this.listenerTable=new Array,this.status=!1,this.progress=0,this.moveTrackList=new Array,null==e&&(e=20),this.strokeWidth=e};Q.prototype.getCurrentStrokeDescriptor=function(){return this.descriptorList[this.currentStrokeOrder]},Q.prototype.getStrokeDescriptor=function(t){return t>=this.descriptorList.length?null:this.descriptorList[t]},Q.prototype.nextStroke=function(){return!(this.currentStrokeOrder+1>=this.descriptorList.length||(this.currentStrokeOrder++,0))},Q.prototype.penDown=function(t,e){this.currentStrokeOrder>=this.descriptorList.length||(this.moveTrackList=new Array,this.status=!0)},Q.prototype.pointsSmooth=function(t){for(var e=new Array,i=-1,n=-1,s=0;s<t.length;s++)if(-1==i)i=t[s].x,n=t[s].y;else{for(var o=t[s].x-i,r=t[s].y-n,a=0;a<10;a++){var l=i+o/10*a,c=n+r/10*a;e.push(new q(l,c))}i=t[s].x,n=t[s].y}return e},Q.prototype.check=function(t,e){var i=this.descriptorList[this.currentStrokeOrder].getTrackList();if(!(this.progress>=i.length)){var n=i[this.progress],s=n.x-t,o=n.y-e;Math.sqrt(Math.pow(s,2)+Math.pow(o,2))<=this.strokeWidth&&(this.progress++,this.progress<i.length&&this.penMove(t,e))}},Q.prototype.penUp=function(t,e){if(this.status){for(var i=this.descriptorList[this.currentStrokeOrder].getTrackList(),n=this.pointsSmooth(this.moveTrackList),s=0;s<n.length;s++){var o=n[s];this.check(o.x,o.y)}this.progress==i.length?this.dispatchEvent("SUCCESS"):this.dispatchEvent("FAIL"),this.status=!1,this.progress=0}},Q.prototype.penMove=function(t,e){this.status&&this.moveTrackList.push(new q(t,e))},Q.prototype.reset=function(){this.progress=0,this.currentStrokeOrder=0},Q.prototype.addEventListener=function(t,e){this.currentIndex++;var i=this.listenerTable[t];null==i&&(i=new Array,this.listenerTable[t]=i),i.push(e)},Q.prototype.dispatchEvent=function(t){var e=this.listenerTable[t];if(null!=e)for(var i=0;i<e.length;i++)e[i](this)};var K=function(t,e,i,n){this.svg=t,this.group=e,this.color="#ffffff",this.alpha=1,this.commands=new Array,null!=i&&(this.color=i),null!=n&&(this.alpha=n)};K.prototype.moveTo=function(t,e){this.commands.push("M"+t+" "+e)},K.prototype.lineTo=function(t,e){this.commands.push("L"+t+" "+e)},K.prototype.curveTo=function(t,e,i,n){this.commands.push("Q"+t+" "+e+" "+i+" "+n)},K.prototype.cubicCurveTo=function(t,e,i){this.commands.push("C"+t.x+" "+t.y+" "+e.x+" "+e.y+" "+i.x+" "+i.y)},K.prototype.apply=function(){for(var t="",e=0;e<this.commands.length;e++)t+=this.commands[e];this.svg.path(this.group,t,{fill:this.color,"fill-opacity":this.alpha,stroke:this.color,"stroke-width":0,"stroke-linejoin":"round","stroke-opacity":0})};var V=function(){this.commandList=new Array,this.trackList=new Array};V.prototype.transformScale=function(t,e){for(let i=0;i<this.trackList.length;i++)this.trackList[i].x*=t,this.trackList[i].y*=t,this.trackList[i].size*=e;for(let e=0;e<this.commandList.length;e++)this.commandList[e].transformScale(t)},V.prototype.addTrack=function(t,e,i){this.trackList.push(new q(t,e,i))},V.prototype.addOutlineCommand=function(t){this.commandList.push(t)},V.prototype.pointsSmooth=function(t){for(var e=new Array,i=-1,n=-1,s=-1,o=0;o<t.length;o++)if(-1==i)i=t[o].x,n=t[o].y,s=t[o].size;else{for(var r=t[o].x-i,a=t[o].y-n,l=t[o].size-s,c=0;c<10;c++){var d=i+r/10*c,h=n+a/10*c,u=s+l/10*c;e.push(new q(d,h,u))}i=t[o].x,n=t[o].y,s=t[o].size}return e},V.prototype.getTrackList=function(){return this.pointsSmooth(this.trackList)},V.prototype.drawOutline=function(t,e,i,n){null==i&&(i="#ffffff");var s=new K(t,e,i,n);s.scale=500/2048;for(var o=0;o<this.commandList.length;o++)this.commandList[o].draw(s);s.apply()};var Z=function(t,e){this.type="MoveTo",this.x=t,this.y=e};Z.prototype.transformScale=function(t){this.x*=t,this.y*=t},Z.prototype.draw=function(t){t.moveTo(this.x,this.y)};var tt=function(t,e){this.type="LineTo",this.x=t,this.y=e};tt.prototype.transformScale=function(t){this.x*=t,this.y*=t},tt.prototype.draw=function(t){t.lineTo(this.x,this.y)};var et=function(t,e,i,n){this.type="QuadBezierTo",this.x1=t,this.y1=e,this.x2=i,this.y2=n};et.prototype.transformScale=function(t){this.x1*=t,this.y1*=t,this.x2*=t,this.y2*=t},et.prototype.draw=function(t){t.curveTo(this.x1,this.y1,this.x2,this.y2)};var it=function(t,e,i,n,s,o){this.type="CubicBezierTo",this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.x3=s,this.y3=o};it.prototype.transformScale=function(t){this.x1*=t,this.y1*=t,this.x2*=t,this.y2*=t,this.x3*=t,this.y3*=t},it.prototype.draw=function(t){t.cubicCurveTo(new q(this.x1,this.y1),new q(this.x2,this.y2),new q(this.x3,this.y3))};var nt=function(){this.descriptor=new V};nt.prototype.buildMoveTo=function(t){var e=new Z(t.attr("x"),t.attr("y"));this.descriptor.addOutlineCommand(e)},nt.prototype.buildLineTo=function(t){var e=new tt(t.attr("x"),t.attr("y"));this.descriptor.addOutlineCommand(e)},nt.prototype.buildQuadBezierTo=function(t){var e=new et(t.attr("x1"),t.attr("y1"),t.attr("x2"),t.attr("y2"));this.descriptor.addOutlineCommand(e)},nt.prototype.buildCubicBezierTo=function(t){var e=new it(t.attr("x1"),t.attr("y1"),t.attr("x2"),t.attr("y2"),t.attr("x3"),t.attr("y3"));this.descriptor.addOutlineCommand(e)},nt.prototype.buildTrack=function(t){this.descriptor.addTrack(t.attr("x"),t.attr("y"),t.attr("size"))},nt.prototype.getStrokeDescriptor=function(){return this.descriptor},nt.prototype.reset=function(){this.descriptor=new V};const st=window.$;var ot=function(t,e,i){for(this.id=t,this.uuid=function(){var t,e,i="";for(t=0;t<32;t++)e=16*Math.random()|0,8!=t&&12!=t&&16!=t&&20!=t||(i+="-"),i+=(12==t?4:16==t?3&e|8:e).toString(16);return i}();this.uuid.indexOf("-")>-1;)this.uuid=this.uuid.replace("-","");this._down=!1,this._tip=!1,this._writable=null!=i&&i,this._prevX=0,this._prevY=0,this.strokeWidth=st(t).width()/2048*200,this.listenerTable=new Array,this.fixd_ratio=1;var n=this,s=st('<svg id="outline_'+this.uuid+'"></svg>');st(t).append(s),s.svg((function(i){i.rect(0,0,"100%","100%",{strokeWidth:1,fill:"#aaaaaa",stroke:"#000000"});var s=i.group("outline_gp_"+n.uuid);n.outline=s;var o=st(t).width(),r=o/2,a=i.group("outline_gp_"+n.uuid);n.datumLine=a,i.line(a,0,r,o,r,{"stroke-width":1,fill:"none",stroke:"#ffffff","stroke-dasharray":"4 2"}),i.line(a,r,0,r,o,{"stroke-width":1,fill:"none",stroke:"#ffffff","stroke-dasharray":"4 2"}),st(a).css("shape-rendering","crispEdges"),st(a).css("display","none");for(var l=0;l<e.length;l++){e[l].drawOutline(i,s,"#ffffff",1)}var c=i.group("outlineFill_gp_"+n.uuid);n.outlineFill=c}));var o=st('<svg id="fill_'+this.uuid+'"></svg>');this.mainTag=o,st(t).append(o),o.svg((function(i){for(var s=i.defs("defs_"+n.uuid),o=0;o<e.length;o++){var r=e[o],a=i.mask(s,n.uuid+"_mask_"+o);r.drawOutline(i,a,"#ffffff")}var l=i.group("strokeArea_gp_"+n.uuid);st(this).attr("mask","url(#"+n.uuid+"_mask_0)"),n.strokeArea=l,n.svgRoot=i,st(t).unbind("mousedown").bind("mousedown",(function(t){var e=(t.pageX-st(n.id).offset().left)/n.fixd_ratio,i=(t.pageY-st(n.id).offset().top)/n.fixd_ratio;n.onPenDown(e,i)})).unbind("mouseup").bind("mouseup",(function(t){var e=(t.pageX-st(n.id).offset().left)/n.fixd_ratio,i=(t.pageY-st(n.id).offset().top)/n.fixd_ratio;n.onPenUp(e,i)})).unbind("mousemove").bind("mousemove",(function(t){var e=(t.pageX-st(n.id).offset().left)/n.fixd_ratio,i=(t.pageY-st(n.id).offset().top)/n.fixd_ratio;n.onPenMove(e,i)})).unbind("touchstart").bind("touchstart",(function(e){e.originalEvent.preventDefault();var i=e.originalEvent.touches[0],s=i.pageX-st(n.id).offset().left,o=i.pageY-st(n.id).offset().top,r=parseFloat(st(st(t))[0].getBBox().width/st(st(t)).width());n.onPenDown(s*r,o*r)})).unbind("touchmove").bind("touchmove",(function(e){e.originalEvent.preventDefault();var i=e.originalEvent.touches[0],s=i.pageX-st(n.id).offset().left,o=i.pageY-st(n.id).offset().top,r=parseFloat(st(st(t))[0].getBBox().width/st(st(t)).width());n.onPenMove(s*r,o*r)})).unbind("touchend").bind("touchend",(function(t){t.originalEvent.preventDefault(),n.onPenUp(0,0)}))})),this.teacher=new Q(e,this.strokeWidth),this.teacher.addEventListener("SUCCESS",(function(t){n.nextStroke()})),this.teacher.addEventListener("FAIL",(function(t){n.dispatchEvent("WRONG"),n.tip()}))};function rt(t,e,i,n,s){let o,r,a,l,c={},d="https://stroke-order.learningweb.moe.edu.tw/",h=0,u=null,f=null;return async function(t,e,i,n){if(null!==t||""!==t){let s=t.split("")[0].charCodeAt(0).toString(16).toUpperCase(),o=["https://stroke-order.learningweb.moe.edu.tw/provideStrokeInfo.do?ucs="+s+"&useAlt=0","https://g0v.github.io/zh-stroke-data/utf8/"+s+".xml","stroke/"+s+".xml"],r=!1;for(let t=0;t<o.length;t++){let s=o[t];try{r=await new Promise((t,n)=>{st.ajax({url:s,error:function(){},success:function(s){try{if(0==st(s).find("Stroke").length)throw"error"}catch(t){return n()}var o=new nt,r=new Object;r.MoveTo=o.buildMoveTo,r.LineTo=o.buildLineTo,r.QuadTo=o.buildQuadBezierTo,r.CubicTo=o.buildCubicBezierTo;let a=st(s).find("Stroke"),l=new Array;return a.each((function(){o.reset();var t=st(this).children("Outline"),e=st(this).children("Track");t.children().each((function(){var t=r[st(this).prop("tagName")];null!=t&&t.call(o,st(this))})),e.children().each((function(){o.buildTrack(st(this))}));var i=o.getStrokeDescriptor();l.push(i)})),i(l,e),t(!0)}})});break}catch(t){}r||n&&n(0)}}}(e,44,(function(e,p){for(var m=0;m<e.length;m++)e[m].transformScale(t(n).width()/2048,t(n).width()/1792);let g=new ot(s,e,!0);g.strokeWidth=p,c.pane2=g,t(s).svg((function(e){var i=t(s).width();null==l&&(l=e.image(0,0,i,i,d+"stroke_exercise_resources/images/effect_success.png"),t(l).css("pointer-events","none"),t(l).attr("opacity",0)),null==a&&(a=e.image(0,0,i,i,d+"stroke_exercise_resources/images/effect_err.png"),t(a).css("pointer-events","none"),t(a).attr("opacity",0))})),g.addEventListener("CORRECT",(function(e){i&&i(),t(l).attr("opacity",1),o=-.01,r=0,null!=u&&clearInterval(u),u=setInterval((function(){h<0?(o=.01,r++):h>1&&(o=-.01,r++),t(l).attr("opacity",h),h+=o,r>2&&(clearInterval(u),t(l).attr("opacity",0))}),1)})),g.addEventListener("WRONG",(function(e){t(a).attr("opacity",1),o=-.01,r=0,null!=f&&clearInterval(f),f=setInterval((function(){h<0?(o=.01,r++):h>1&&(o=-.01,r++),t(a).attr("opacity",h),h+=o,r>2&&(clearInterval(f),f=null,t(a).attr("opacity",0))}),1)})),g.setAutoTip(!0)}),i),c}ot.prototype.getCurrentStrokeIndex=function(){return this.teacher.currentStrokeOrder},ot.prototype.setDatumLine=function(t){st(this.datumLine).css("display",t?"block":"none")},ot.prototype.isDatumLine=function(){return"block"==st(this.datumLine).css("display")},ot.prototype.nextStroke=function(){var t=this.svgRoot,e=this.strokeArea,i=this.outlineFill,n=this.teacher.getCurrentStrokeDescriptor(),s=t.group(i);n.drawOutline(t,s,"#000000"),st(e).empty();var o=this.teacher.nextStroke();if(o){var r=this.teacher.currentStrokeOrder;st(this.mainTag).attr("mask","url(#"+this.uuid+"_mask_"+r+")"),this.autoTip&&this.tip()}else this.dispatchEvent("CORRECT");return o},ot.prototype.clearPrevPoint=function(){this._demoPrevX=null,this._demoPrevY=null},ot.prototype.setAutoTip=function(t){this.autoTip=t,this.setTip(t)},ot.prototype.isAutoTip=function(){return this.autoTip},ot.prototype.setTip=function(t){this._tip=t,1==this._tip?this.tip():0==this._tip&&this.clearStrokeArea()},ot.prototype.isTip=function(){return this._tip},ot.prototype.tip=function(){var t=this.teacher.getStrokeDescriptor(this.teacher.currentStrokeOrder);if(null!=t){var e=this.strokeArea;t.drawOutline(this.svgRoot,e,"#990000",.3)}},ot.prototype.drawAnimate=function(t,e,i){var n=this.svgRoot,s=this.strokeArea;n.circle(s,t,e,i,{strokeWidth:0,fill:"#000000",stroke:"#000000","stroke-linecap":"round"}),this._demoPrevX=t,this._demoPrevY=e},ot.prototype.onPenUp=function(t,e){this._writable&&this._down&&(st(this.strokeArea).empty(),this._down=!1,this.teacher.penUp(this._prevX,this._prevY),this._prevX=0,this._prevY=0)},ot.prototype.onPenDown=function(t,e){this._writable&&(this._prevX=t,this._prevY=e,this._down=!0,this.teacher.penDown(t,e),this.index=0)},ot.prototype.onPenMove=function(t,e){if(this.index++,this._writable&&this._down){var i=this.svgRoot,n=this.strokeArea;0!=this._prevX&&0!=this._prevY&&i.line(n,this._prevX,this._prevY,t,e,{strokeWidth:this.strokeWidth,fill:"#000000",stroke:"#000000","stroke-linecap":"round"}),this._prevX=t,this._prevY=e,i.circle(n,t,e,15,{strokeWidth:this.strokeWidth/2,fill:"#000000",stroke:"#000000","stroke-linecap":"round"}),this.teacher.penMove(t,e)}},ot.prototype.clearStrokeArea=function(){st(this.strokeArea).empty()},ot.prototype.reset=function(){st(this.strokeArea).empty(),st(this.outlineFill).empty(),st(this.mainTag).attr("mask","url(#"+this.uuid+"_mask_0)"),this.teacher.reset()},ot.prototype.addEventListener=function(t,e){var i=this.listenerTable[t];null==i&&(i=new Array,this.listenerTable[t]=i),i.push(e)},ot.prototype.dispatchEvent=function(t){var e=this.listenerTable[t];if(null!=e)for(var i=0;i<e.length;i++)e[i](this)},ot.prototype.setFullPen=function(t){this.fixd_ratio=t};const at=J.Converter({from:"cn",to:"hk"});var lt={props:["hanzi"],data:()=>({bingo:0}),mounted(){this.loadHanzi()},methods:{loadHanzi(){if(this.bingo=0,this.hanzi){const t=at(this.hanzi);rt(window.$,t,this.success,this.$refs.svg,this.$refs.svg1)}},success(t){this.$emit("success",t)}},watch:{hanzi:{deep:!0,handler(t){this.loadHanzi()}}}},ct=(i("e314"),Object(I.a)(lt,(function(){var t=this._self._c;return t("div",[t("svg",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"svg",staticStyle:{width:"207px",height:"207px"},attrs:{viewBox:"0 0 207 207"}}),t("svg",{ref:"svg1",staticStyle:{width:"207px",height:"207px"},attrs:{viewBox:"0 0 207 207"}})])}),[],!1,null,"51acce70",null)).exports;const dt=J.Converter({from:"cn",to:"hk"});var ht={props:["word","lan"],data:()=>({isMask:0,penWidth:5,loopPlay:0,inputText:"",bingo:0,words:[]}),components:{Hanzi:ct},created(){},methods:{valid(){return this.bingo},success(t){this.words[t].ok=1,0==this.words.filter(t=>!t.ok).length&&(this.bingo=1,this.$emit("next"))},loadWord(){if(this.bingo=0,this.word){const t=dt(this.word[this.lan]);this.words.length=0,this.words.push(...t.split("").map(t=>({w:t,ok:0})))}},clear(){}},watch:{word:{deep:!0,handler(t){this.loadWord()}},inputText(t){if(t){const e=dt(t);this.words.length=0,this.words.push(...e.split("").map(t=>({w:t,ok:0})))}else this.loadWord()}},beforeDestroy(){},mounted(){this.loadWord()},computed:{}},ut=(i("46c7"),Object(I.a)(ht,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","flex-direction":"column",position:"absolute",top:"0",left:"0",right:"0",bottom:"0"}},[e("div",{attrs:{id:"topbts"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[e("span",[e("font-awesome-icon",{attrs:{icon:"pen","fixed-width":""}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.penWidth,expression:"penWidth",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"20",step:"1"},domProps:{value:t.penWidth},on:{__r:function(e){t.penWidth=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})],1),e("span",[e("font-awesome-icon",{attrs:{icon:"magnifying-glass","fixed-width":""}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.scale,expression:"scale",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"10",step:"1"},domProps:{value:t.scale},on:{__r:function(e){t.scale=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})],1),e("input",{attrs:{type:"color"}})])]),e("div",{staticStyle:{"flex-grow":"1",overflow:"hidden"}},[e("div",{ref:"container",staticStyle:{display:"flex",overflow:"auto","flex-wrap":"wrap"},attrs:{id:"container"}},t._l(t.words,(function(i,n){return e("div",{key:n},[e("Hanzi",{attrs:{hanzi:i.w},on:{success:function(e){return t.success(n,i)}}})],1)})),0)]),e("div",{staticStyle:{width:"100%"},attrs:{id:"bts"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[e("a",{class:{selected:2==t.loopPlay},attrs:{id:"playBtn"}},[e("font-awesome-icon",{attrs:{icon:["fas","play"],"fixed-width":""}})],1),e("a",{ref:"maskBtn",class:{selected:t.isMask},on:{click:function(e){t.isMask=!t.isMask,t.loopPlay=0}}},[e("font-awesome-icon",{attrs:{icon:["fas","mask"],"fixed-width":""}})],1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],ref:"inputText",staticStyle:{width:"2rem"},domProps:{value:t.inputText},on:{focus:function(e){t.inputText=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.inputText.blur()},input:function(e){e.target.composing||(t.inputText=e.target.value)}}}),e("a",{attrs:{id:"clearBtn"},on:{click:function(e){t.loopPlay=0,t.clear()}}},[e("font-awesome-icon",{attrs:{icon:["fas","eraser"],"fixed-width":""}})],1)])])])}),[],!1,null,"12cb00a4",null)).exports,ft={props:["word","lan"],data:()=>({letters2:[],letters:[],fill:[],isCorrect:0}),components:{},created(){},methods:{fillLetterIndex(t){-1==this.fill.indexOf(t)&&(this.fill.push(t),this.fill.length==this.letters2.length?(this.isCorrect=this.fill.map(t=>this.letters2[t]).join("")==this.letters.join("")?1:2,1==this.isCorrect?this.$emit("next"):this.isCorrect):0!=this.word[this.lan].indexOf(this.fill.map(t=>this.letters2[t]).join(""))?this.isCorrect=2:this.isCorrect=0)},unFillLetterIndex(t){this.fill.length>t&&this.fill.splice(t)},valid(){return this.bingo},success(t){this.words[t].ok=1,0==this.words.filter(t=>!t.ok).length&&(this.bingo=1,this.$emit("next"))},loadWord(){if(this.fill.length=0,this.letters2.length=0,this.letters.length=0,this.isCorrect=0,this.bingo=0,this.word){let t=this.word[this.lan];this.letters2=t.toLowerCase().trim().split("").sort(),this.letters=t.toLowerCase().trim().split("")}},clear(){}},watch:{word:{deep:!0,handler(t){this.loadWord()}},inputText(t){if(t){const e=converter(t);this.words.length=0,this.words.push(...e.split("").map(t=>({w:t,ok:0})))}else this.loadWord()}},beforeDestroy(){},mounted(){this.loadWord()},computed:{}},pt=(i("e1d3"),Object(I.a)(ft,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"board",staticStyle:{"text-align":"center"}},[e("div",[e("div",{staticStyle:{position:"relative"}},t._l(t.letters,(function(i,n){return e("span",{key:`${i}${n}`,staticClass:"al",staticStyle:{position:"relative"},on:{click:function(e){return t.unFillLetterIndex(n)}}},[n<t.fill.length?e("b",[t._v(t._s(t.letters2[t.fill[n]]))]):e("b",{staticStyle:{visibility:"hidden"}},[t._v(t._s(i))])])})),0),e("div",{staticStyle:{"border-top":"1px dashed #ccc"}},[t._l(t.letters2,(function(i,n){return[t.fill.indexOf(n)>-1?e("span",{key:`${i}${n}`,staticClass:"al",staticStyle:{visibility:"hidden"},on:{click:function(e){return t.fillLetterIndex(n)}}},[t._v(" "+t._s(i))]):t._e()]})),t._l(t.letters2,(function(i,n){return[-1==t.fill.indexOf(n)?e("span",{key:`${i}${n}`,staticClass:"al",on:{click:function(e){return t.fillLetterIndex(n)}}},[t._v(" "+t._s(i))]):t._e()]}))],2),t.fill.length>0&&t.isCorrect>0?e("div",{staticStyle:{"margin-top":"1em","font-size":"2em",color:"red"}},[e("font-awesome-icon",{attrs:{"fixed-width":"",icon:1==t.isCorrect?"thumbs-up":"thumbs-down"}})],1):t._e()])])}),[],!1,null,"5e2eae4f",null)).exports,mt={props:["word","lan"],data:()=>({letters2:[],letters:[],fill:[],isCorrect:0}),components:{},created(){},methods:{selected:()=>!0},beforeDestroy(){},mounted(){},computed:{}},gt=(i("3fb0"),Object(I.a)(mt,(function(){return(0,this._self._c)("div",{staticClass:"board",staticStyle:{"text-align":"center"}})}),[],!1,null,"f82d8ac6",null)).exports,vt={props:["showgame"],data:()=>({clickIndex:0,item:null,games:[{_blank:1,name:"pbskids.org games",imgUrl:"https://cms-tc.pbskids.org/global/mezzanines/_shellTopicBlock/Sesame_Puppy-Pet-Care_PBSGameFeature_908x510.jpg",url:"https://pbskids.org/games"},{name:"圈小猫",imgUrl:"images/logo.jpg",path:"cat"},{name:"letter trace",imgUrl:"assets/images/cover.jpg",path:"letter_trace/html"},{name:"匹配游戏",path:"card"},{name:"方块消除",imgUrl:"bitmap/logo.png",path:"remove"},{name:"数字推盘",path:"szhrdGame"},{name:"Bubble"},{name:"五子棋",path:"wuziqi"},{name:"五子棋2",path:"wuziqi2"},{name:"unlock"},{name:"connection"},{name:"master_checkers_v3"},{name:"numpuz"},{name:"pintu",imgUrl:"assets/img_480/game_logo.png"},{name:"blue casino",path:"blue2"},{name:"lollipop"},{path:"smarty-bubbles-2",name:"smarty bubbles",imgUrl:"SmartyBubbles2Teaser.jpg"},{name:"ppiano",imgUrl:"PerfectPiano_Teaser.jpg"},{name:"pianoonline"},{path:"pvz",name:"Plant zombie",imgUrl:"images/interface/Logo.jpg",src:"http://crge.cn/games"}]}),mounted:function(){},deactivated(){},computed:{},methods:{getLink:t=>t.url?t.url:"games/"+(t.path||t.name)+"/index.html",getImage:t=>t.imgUrl&&0==t.imgUrl.indexOf("http")?t.imgUrl:"games/"+(t.path||t.name)+"/"+(t.imgUrl||"cover.png"),select(t,e){this.item=e,e._blank&&(window.abcWindow=window.open("about:_blank","abc"),setTimeout(()=>{window.abcWindow.location.href=this.getLink(e)},500)),this.$emit("select")}},watch:{}},wt={data:()=>({}),mounted(){},methods:{save(t){this.lock||this.saveConfig(t)},toggleLock(){this.local.pass&&prompt("Current password")!=this.local.pass||this.saveLocal({lock:!this.local.lock})},updatePass(){this.local.pass&&prompt("Current password")!=this.local.pass||(this.saveLocal({pass:prompt("New password")}),alert("ok"))},toggleSound(){this.config.sound=this.config.sound?"":"YD",this.save()},refreshCache(){"serviceWorker"in navigator&&caches.keys().then((function(t){t.forEach((function(t){confirm("delete cache "+t)&&caches.delete(t)}))}))},openGame(t,e){this.$emit("openGame",t,e)}},computed:{},watch:{}},yt={created(){document.addEventListener("swUpdated",this.updateAvailable,{once:!0})},components:{GameList:(i("9745"),Object(I.a)(vt,(function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"figure-list"},t._l(t.games||[],(function(i,n){return e("li",{key:n},[e("div",{staticClass:"itemText"},[e("span",[t._v(t._s(n+1)+"."+t._s(i.name))])]),e("figure",{staticClass:"animated",class:{tada:t.clickIndex==n},staticStyle:{cursor:"pointer"},style:{backgroundImage:`url(${t.getImage(i)})`},on:{click:function(e){return t.select(n,i)}}})])})),0),t.showgame&&t.item?e("div",{staticStyle:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","z-index":"100",background:"#fff",overflow:"hidden"}},[t.showgame&&t.item?e("iframe",{attrs:{id:"gamefr",src:t.getLink(t.item)}}):t._e()]):t._e()])}),[],!1,null,"04c4abda",null)).exports,Setting:(i("ad48"),Object(I.a)(wt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"items"},[e("div",[e("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.refreshCache()}}},[t._v("Refresh Cache")])]),e("div",[e("span",[t._v("Sound YD:"),e("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.toggleSound()}}},[t._v(t._s(t.config.sound?"ON":"OFF"))])])]),e("div",[e("div",[t._v("Enable Language:")]),t._l(t.config.langs||[],(function(i){return e("div",{key:i},[t._v(" "+t._s(i)+" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.enable[i],expression:"config.enable[lan]"}],attrs:{disabled:t.local.lock,type:"checkbox"},domProps:{checked:Array.isArray(t.config.enable[i])?t._i(t.config.enable[i],null)>-1:t.config.enable[i]},on:{change:[function(e){var n=t.config.enable[i],s=e.target,o=!!s.checked;if(Array.isArray(n)){var r=t._i(n,null);s.checked?r<0&&t.$set(t.config.enable,i,n.concat([null])):r>-1&&t.$set(t.config.enable,i,n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.config.enable,i,o)},function(e){return t.save()}]}})])}))],2),e("div",[t._v("passNum:"),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.config._passNum,expression:"config._passNum",modifiers:{number:!0}}],attrs:{min:"1",disabled:t.local.lock},domProps:{value:t.config._passNum},on:{blur:[function(e){return t.save(t.config)},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.config,"_passNum",t._n(e.target.value))}}})]),e("div",[e("span",[t._v("Estimate Url:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.config._estUrl,expression:"config._estUrl"}],domProps:{value:t.config._estUrl},on:{change:function(e){return t.save()},input:function(e){e.target.composing||t.$set(t.config,"_estUrl",e.target.value)}}})]),e("div",[e("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.openGame(t.config.gameTime1,1)}}},[t._v("Skip Test")])]),e("div",[e("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.updatePass()}}},[t._v("Update Pass")])]),e("div",[e("a",{on:{click:t.toggleLock}},[t._v("Locked:")]),t._v(t._s(t.local.lock?"Y":"N")+" ")]),e("div",[e("a",{on:{click:function(e){return t.saveLocal({grid:!t.local.grid})}}},[t._v("Grid:")]),t._v(t._s(t.local.grid?"Y":"N")+" ")]),e("div",[e("a",{on:{click:function(e){return t.saveLocal({maskWord:!t.local.maskWord})}}},[t._v("maskWord:")]),t._v(t._s(t.local.maskWord?"Y":"N")+" ")]),e("div",[e("a",{on:{click:function(e){return t.saveLocal({showPic:!t.local.showPic})}}},[t._v("showPic:")]),t._v(t._s(t.local.showPic?"Y":"N")+" ")]),e("div",[t._v(" Mask Color:"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.maskColor,expression:"maskColor"}],attrs:{type:"color"},domProps:{value:t.maskColor},on:{input:function(e){e.target.composing||(t.maskColor=e.target.value)}}})]),e("div",[t._v(" Next Speed: "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.nextSpeed,expression:"nextSpeed",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"5",step:"1"},domProps:{value:t.nextSpeed},on:{__r:function(e){t.nextSpeed=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),t._v(" "+t._s(t.nextSpeed)+" ")])])}),[],!1,null,"37f14c2b",null)).exports,WriteDraw:E,WriteDraw0:H,WriteDraw5:ut,FillWord:pt,Listen:gt},data:()=>({curComponent:null,compList:[{name:"Listen",wordCount:4},{name:"FillWord",width:"40%"},{name:"WriteDraw0",width:"40%"},{name:"WriteDraw",width:"40%"},{name:"WriteDraw5",width:"40%"}],showgame:1,clockt:0,rightCn:0,wrongCn:0,curAct:0,list:[],curIndex:0,speaking:!1,seconds:15,timer:0,clickIndex:-1,showGameIf:!1,showInput:!1,lan:"en",lans:["en"],lanMode:"auto",startCount:0,refresing:0,syning:0,lastYesIndex:-1,refreshing:!1,registration:null,updateExists:!1,showSetting:0}),mounted:function(){let t=c()('<iframe id="myaudio" style="display:none;" referrerpolicy="no-referrer" />');t.appendTo("body");let e=t[0],i=e.contentDocument||e.contentWindow.document;i.body.innerHTML='<audio id="sound" controls ></audio>';let n=i.querySelector("audio#sound");this.autio=n,this.refresh(),this.randList();let s=this;document.addEventListener("click",t=>{s.$refs.setting&&!s.$refs.setting.$el.contains(t.target)&&(s.showSetting=0)})},activated(){},deactivated(){clearInterval(this.timer)},computed:{listenChangeCn(){const{rightCn:t,wrongCn:e}=this;return{rightCn:t,wrongCn:e}},dictList(){return this.items||[]}},methods:{picContainerStyle(){if(this.curComponent&&this.curComponent.width)return{width:this.curComponent.width}},changeComponent(t){this.saveLocal({mode:t}),this.curComponent=this.compList[t]},getImgUrl:t=>t.img?t.img:t.en?t.imgBase+t.en+".jpg":void 0,count(t,e){return this.config.countMap||(this.config.countMap={}),this.config.countMap[this.lan]||(this.config.countMap[this.lan]={}),null==this.config.countMap[this.lan][t[this.lan]]&&(this.config.countMap[this.lan][t[this.lan]]=0),void 0!==e&&(this.config.countMap[this.lan][t[this.lan]]=e,this.saveConfig()),this.config.countMap[this.lan][t[this.lan]]},updateAvailable(t){this.registration=t.detail,this.updateExists=!0,this.refreshApp()},refreshApp(){this.updateExists=!1,this.registration&&this.registration.waiting&&this.registration.waiting.postMessage({type:"SKIP_WAITING"})},openGame(t,e=0){let i=o.a.get("pwd");if(i&&e){prompt("current pwd:")==i&&this.startShowGame(t)}},async refresh(){let t=this;if(!this.refresing){this.refresing=1;for(var e=5;e>=0;e--)try{await new Promise((e,i)=>{c.a.ajax({url:t.config.url,dataType:"jsonp",jsonpCallback:"cb"}).done((function(i){let n=0==t.dictList.length,s=JSON.parse(a.a.ungzip(atob(i),{to:"string"}));t.saveItems(s.items||[]),n&&t.randList(),t.saveConfig(s.config||{}),e()})).fail((function(t){i(t)}))});break}catch(t){0==e&&alert("fail refresh data"),await new Promise(t=>setTimeout(t,3e3))}this.syning=0,this.refresing=0}},sendFeedBack(t){var e=this.list[this.curIndex];null==e.rTimes&&(e.rTimes=0),t!=this.curIndex?(e.rTimes>0&&(e.rTimes=0),e.rTimes--):e.rTimes++},closeGame(){this.showGameIf=!1,clearTimeout(this.timer),this.randList()},startShowGame(t){this.clockt=parseInt(60*t*1e3),this.showGameIf=!0,this.config._estUrl&&fetch(this.config._estUrl),this.clockTimer&&clearInterval(this.clockTimer),this.clockTimer=setInterval(()=>{if(this.clockt=this.clockt-1e3,this.clockt<=0){if(window.abcWindow){try{window.abcWindow.close()}catch(t){}window.abcWindow=0}this.showGameIf=!1,this.rightCn=this.wrongCn=0,clearInterval(this.clockTimer),this.randList()}},1e3)},replay(){let t=this.list[this.curIndex][this.lan];this.say(t)},async select(t,e,i){if(this.$refs.curComponent.selected&&!this.$refs.curComponent.selected())return;if(this.selected)return;this.clickIndex==t?this.clickIndex=-1:this.clickIndex=t,this.selected=1;let n=e[this.lan];if(t==this.curIndex){if(this.lastYesIndex=t,this.$refs.curComponent.valid&&!this.$refs.curComponent.valid(i)||(this.rightCn++,this.curAct=1,this.count(e,this.count(e)+1)),await this.say(n),this.rightCn-this.wrongCn>=this.config._passNum)return this.rightCn=0,this.startShowGame(this.config.gameTime2);await new Promise(t=>setTimeout(t,1e3)),await this.randList()}else await this.say(n),this.wrongCn++,this.curAct=-1,this.list.forEach(t=>this.count(t,this.count(t)-1));this.selected=0},n(){return this.curComponent&&this.curComponent.wordCount?this.curComponent.wordCount:1},async randList(){this.changeComponent(this.mode);let t=Object.keys(this.config.enable).filter(t=>this.config.enable[t]);if(0==t.length)return void alert("please select  at least one language first");if(this.lan=t[parseInt(Math.random()*t.length)],0==this.dictList.length)return;let e=this.dictList;e.length<this.n()&&(e=this.dictList),this.selected=0,this.list.length=0;for(var i=0;i<this.n();i++){var n=parseInt(e.length*Math.random());this.list.indexOf(e[n])>-1?i--:this.list.push(e[n])}this.curIndex=parseInt(Math.random()*this.list.length),0!=this.mode&&this.replay(),this.clickIndex=-1},async say(t){if(!t)return;let e=this.config.ttslan[this.lan];this.speaking=!0;let i=[];"en"==this.lan&&"YD"==this.config.sound&&i.push("https://dict.youdao.com/dictvoice?type=2&audio="+encodeURIComponent(t.trim())),null!=this.config.ttsBase&&i.push(this.config.ttsBase+this.lan+"/"+encodeURIComponent(t.trim().replace(/[?.!]/i,"_"))+".mp3"),i.push(`https://fanyi.baidu.com/gettts?lan=${encodeURIComponent(e)}&text=${encodeURIComponent(t.trim())}&spd=3&source=web`);let n=this.autio;n.rel="noreferrer";for(let t=0;t<i.length;t++){if(await new Promise(e=>{n.onerror=function(){e(0)},n.onended=function(){return e(1)};try{n.src=i[t],n.play()}catch(t){}})>0)break}this.speaking=!1},getWrongSetence(){let t=this.config.tips[this.lan];return t[parseInt(Math.random()*t.length)]}},watch:{lanMode(){this.randList()},mode(){this.randList()}}},xt=(i("6020"),Object(I.a)(yt,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"user-select":"none",display:"flex","flex-direction":"column",position:"fixed",top:"0",right:"0",left:"0",bottom:"0"},attrs:{id:"con"}},[e("div",{staticStyle:{"text-align":"left",color:"red","min-height":"1em",height:"1em","margin-bottom":"8px"}},[t._l(t.config._passNum,(function(i){return e("font-awesome-icon",{key:i,staticClass:"star",class:{enable:t.rightCn-t.wrongCn>=i},attrs:{icon:"star","fixed-width":""}})})),t._v("("+t._s(t.rightCn-t.wrongCn)+") ")],2),e("div",{staticStyle:{cursor:"pointer","user-select":"none","margin-top":"10px","text-align":"center"}},[e("span",{on:{click:t.replay}},[e("font-awesome-icon",{class:{speaking:t.speaking},attrs:{icon:"volume-up","fixed-width":""}})],1),e("span",{staticStyle:{"margin-left":"10px"},on:{click:function(e){t.wrongCn+=3,t.randList()}}},[e("font-awesome-icon",{class:{speaking:t.speaking},attrs:{icon:"step-forward","fixed-width":""}})],1),e("span",{staticStyle:{"margin-left":"10px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],attrs:{disabled:t.local.lock},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.mode=e.target.multiple?i:i[0]},function(e){return t.changeComponent(t.mode)}]}},t._l(t.compList,(function(i,n){return e("option",{key:n,domProps:{value:n}},[t._v(t._s(n+1)+". "+t._s(i.name))])})),0)]),e("span",{staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.refresh()}}},[e("font-awesome-icon",{attrs:{icon:"refresh","fixed-width":""}}),t._v("("+t._s(t.dictList.length)+")"+t._s(t.refresing?"...":""))],1),t._e(),e("span",{staticStyle:{"margin-left":"10px"},on:{click:function(e){e.stopPropagation(),t.showSetting=1}}},[e("font-awesome-icon",{attrs:{icon:"gear","fixed-width":""}})],1),e("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"audio",staticStyle:{height:"0px",width:"0px"},attrs:{controls:"",referrerpolicy:"no-referrer"}})]),e("div",{staticStyle:{"flex-grow":"1",position:"relative",display:"flex","flex-direction":"column"}},[t.list.length>0&&t.curIndex>=0?e("div",{staticClass:"word",staticStyle:{color:"dodgerblue","font-size":"300%","font-weight":"900","text-align":"center","margin-bottom":"10px"},on:{click:t.replay}},[t._v(" "+t._s(t.list[t.curIndex][t.lan])+" ")]):t._e(),e("ul",{staticClass:"figure-list",staticStyle:{"text-align":"center"}},t._l(t.list,(function(i,n){return e("li",{key:n,staticClass:"card",class:{click:t.clickIndex==n,ready:!t.selected},style:t.picContainerStyle(),on:{click:function(e){return t.select(n,i,e)}}},[e("div",{staticClass:"card__content"},[e("div",{staticClass:"itemText card__back"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(i[t.lan].toLowerCase()))]),0!=t.count(i)?e("span",{class:{red:t.count(i)>0,green:t.count(i)<0},staticStyle:{flex:"0","font-size":"80%",position:"absolute",bottom:"0"}},[t._v(t._s(0==t.count(i)?"":t.count(i)>0?"+":"")+t._s(t.count(i)))]):t._e()]),e("figure",{staticClass:"card__front",staticStyle:{cursor:"pointer"},style:{backgroundImage:`url(${t.getImgUrl(i)})`}})])])})),0),e("div",{staticStyle:{position:"relative","flex-grow":"1"}},[t.curComponent?e(t.curComponent.name,{key:t.curComponent.name,ref:"curComponent",tag:"component",attrs:{lan:t.lan,word:t.list[t.curIndex],index:t.curIndex},on:{next:function(e){return t.select(0,t.list[t.curIndex],e)}}}):t._e()],1)]),t.showGameIf?e("div",{staticStyle:{background:"white"}},[e("GameList",{attrs:{showgame:t.showgame,id:"gamefr"},on:{select:function(e){t.showgame=1}}}),e("div",{staticStyle:{position:"fixed",top:"0",cursor:"pointer",right:"0",color:"white","z-index":"10000"}},[e("span",{on:{click:function(e){return t.openGame(6)}}},[t._v(t._s(t.clockt/1e3))]),e("span",{staticStyle:{"font-size":"1.5em"}},[e("font-awesome-icon",{staticStyle:{background:"black","border-radius":"1em","margin-right":"10px"},attrs:{icon:"arrow-left","fixed-width":""},on:{click:function(e){t.showgame=!t.showgame}}}),e("font-awesome-icon",{staticStyle:{background:"black","border-radius":"1em"},attrs:{icon:"times-circle","fixed-width":""},on:{click:function(e){return t.closeGame()}}})],1)])],1):t._e(),e("setting",{directives:[{name:"show",rawName:"v-show",value:t.showSetting,expression:"showSetting"}],ref:"setting",staticClass:"centered",staticStyle:{background:"#ddd",padding:"10px","z-index":"3"},on:{openGame:t.openGame}})],1)}),[],!1,null,"93753a14",null)).exports,kt=i("be33"),bt=i("11ca"),_t=i("2753"),Ct=i("4ab5"),Tt=i("ad3d"),St=i("9483");Object(St.a)("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(t){document.dispatchEvent(new CustomEvent("swUpdated",{detail:t}))},offline(){},error(t){}});var Lt=i("2f62");n.a.use(Lt.a);let Pt=localStorage;var It=new Lt.a.Store({state:{local:Object.assign({mode:1,lock:0,pass:"",grid:!1,maskWord:!1,maskColor:"#ddd",penColor:"black",nextSpeed:2,scale:1,showPic:!0},Pt.local?JSON.parse(Pt.local):{}),config:Object.assign({url:"https://smlog.github.io/data/dict.js",enable:{},gameTime1:0,gameTime2:0,sound:1},Pt.config?JSON.parse(Pt.config):{}),items:Pt.items?JSON.parse(Pt.items):[]},mutations:{local(t,e){t.local=Object.assign(t.local,e),Pt.local=JSON.stringify(t.local)},config(t,e){t.config=Object.assign(t.config,e),Pt.config=JSON.stringify(t.config)},items(t,e){t.items.length=0,t.items.push(...e),Pt.items=JSON.stringify(t.items)}},actions:{},modules:{},getters:{}});var Et={data:()=>({}),methods:{saveConfig(t){this.$store.commit("config",t)},saveItems(t){this.$store.commit("items",t)},saveLocal(t){this.$store.commit("local",t)}},computed:{mode:{get(){return this.$store.state.local.mode},set(t){this.saveLocal({mode:t})}},local(){return this.$store.state.local},config(){return this.$store.state.config},items(){return this.$store.state.items},maskColor:{get(){return this.$store.state.local.maskColor},set(t){this.saveLocal({maskColor:t})}},nextSpeed:{get(){return this.$store.state.local.nextSpeed},set(t){this.saveLocal({nextSpeed:t})}},maskWord:{get(){return this.$store.state.local.maskWord},set(t){this.saveLocal({maskWord:t})}},scale:{get(){return this.$store.state.local.scale},set(t){this.saveLocal({scale:t})}},showPic:{get(){return this.$store.state.local.showPic},set(t){this.saveLocal({showPic:t})}}}};kt.c.add(bt.a,_t.a,Ct.a),n.a.component("font-awesome-icon",Tt.a),n.a.component("font-awesome-layers",Tt.b),n.a.component("font-awesome-layers-text",Tt.c),n.a.config.productionTip=!1,n.a.mixin(Et),new n.a({render:t=>t(xt),store:It,data:{eventHub:new n.a}}).$mount("#app");let Ot=0;document.documentElement.addEventListener("touchstart",(function(t){t.touches.length>1&&t.preventDefault()})),document.documentElement.addEventListener("touchend",(function(t){let e=(new Date).getTime();e-Ot<=300?t.preventDefault():Ot=e}),!1),document.documentElement.addEventListener("gesturestart",(function(t){t.preventDefault()}))},6020:function(t,e,i){"use strict";i("5684")},"6a26":function(t,e,i){},9745:function(t,e,i){"use strict";i("11f4")},"9f6c":function(t,e,i){},ad48:function(t,e,i){"use strict";i("1a86")},b9e5:function(t,e,i){},e1d3:function(t,e,i){"use strict";i("b9e5")},e2ff:function(t,e,i){},e314:function(t,e,i){"use strict";i("53c0")},e887:function(t,e,i){"use strict";i("6a26")},fde1:function(t,e,i){}});