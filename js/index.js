!function(e){function t(t){for(var i,a,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={index:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([1,"chunk-vendors"]),n()}({"0e62":function(e,t,n){"use strict";n("984f")},1:function(e,t,n){e.exports=n("56d7")},"2e1e":function(e,t,n){"use strict";n("8309")},"42d1":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("0d03");var i=n("2b0e"),r=n("2909"),o=n("1da1"),a=(n("96cf"),n("d3b7"),n("13d5"),n("4160"),n("159b"),n("4795"),n("c975"),n("cb29"),n("a15b"),n("d81d"),n("a434"),n("e25e"),n("4de4"),n("b64b"),n("4e82"),n("ac1f"),n("1276"),n("498a"),n("99af"),n("da7e")),s=n.n(a),c=n("d7ac"),l=n.n(c),u=n("1157"),d=n.n(u),f=(n("b0c0"),{props:["showgame"],data:function(){return{clickIndex:0,item:null}},mounted:function(){},deactivated:function(){},computed:{},methods:{getLink:function(e){return e.url?e.url:"games/"+(e.path||e.name)+"/index.html"},getImage:function(e){return e.imgUrl&&0==e.imgUrl.indexOf("http")?e.imgUrl:"games/"+(e.path||e.name)+"/"+(e.imgUrl||"cover.png")},select:function(e,t){this.item=t,t._blank&&window.open(this.getLink(t)),this.$emit("select")}},watch:{}}),h=(n("2e1e"),n("2877")),g=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",{staticClass:"figure-list"},e._l(e.config.games||[],(function(t,i){return n("li",{key:i},[n("div",{staticClass:"itemText"},[n("span",[e._v(e._s(i+1)+"."+e._s(t.name))])]),n("figure",{staticClass:"animated",class:{tada:e.clickIndex==i},staticStyle:{cursor:"pointer"},style:{backgroundImage:"url("+e.getImage(t)+")"},on:{click:function(n){return e.select(i,t)}}})])})),0),e.showgame&&e.item?n("div",{staticStyle:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","z-index":"100",background:"#fff",overflow:"hidden"}},[e.showgame&&e.item?n("iframe",{attrs:{id:"gamefr",src:e.getLink(e.item)}}):e._e()]):e._e()])}),[],!1,null,"4091c20c",null).exports,p=(n("ddb0"),{data:function(){return{}},mounted:function(){},methods:{toggleSound:function(){this.config.sound=this.config.sound?"":"YD",this.saveConfig()},refreshCache:function(){"serviceWorker"in navigator&&caches.keys().then((function(e){e.forEach((function(e){confirm("delete cache "+e)&&caches.delete(e)}))}))},openGame:function(e,t){this.$emit("openGame",e,t)}},computed:{},watch:{}}),m={created:function(){document.addEventListener("swUpdated",this.updateAvailable,{once:!0})},data:function(){return{showgame:1,clockt:0,rightCn:0,wrongCn:0,curAct:0,list:[],curIndex:0,speaking:!1,seconds:15,timer:0,clickIndex:-1,showGameIf:!1,showInput:!1,lan:"en",lans:["en"],lanMode:"auto",startCount:0,mode:1,fill:[],letters2:[],letters:[],isCorrect:0,refresing:0,dictList:s.a.get("dicts")||[],syning:0,lastYesIndex:-1,refreshing:!1,registration:null,updateExists:!1,showSetting:0}},components:{GameList:g,Setting:(n("b3b5"),Object(h.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("a",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.refreshCache()}}},[e._v("Refresh Cache")])]),n("div",[n("span",[e._v("Sound YD:"),n("a",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleSound()}}},[e._v(e._s(e.config.sound?"ON":"OFF"))])])]),n("div",[n("div",[e._v("Enable Language:")]),e._l(e.config.langs||[],(function(t){return n("div",{key:t},[e._v(" "+e._s(t)+" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.enable[t],expression:"config.enable[lan]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.enable[t])?e._i(e.config.enable[t],null)>-1:e.config.enable[t]},on:{change:[function(n){var i=e.config.enable[t],r=n.target,o=!!r.checked;if(Array.isArray(i)){var a=e._i(i,null);r.checked?a<0&&e.$set(e.config.enable,t,i.concat([null])):a>-1&&e.$set(e.config.enable,t,i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.config.enable,t,o)},function(t){return e.saveConfig()}]}})])}))],2),n("div",[n("a",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.openGame(e.config.gameTime1,1)}}},[e._v("Change password")])])])}),[],!1,null,"6bdb37d1",null)).exports},mounted:function(){var e=d()('<iframe id="myaudio" style="display:none;" referrerpolicy="no-referrer" />');e.appendTo("body");var t=e[0],n=t.contentDocument||t.contentWindow.document;n.body.innerHTML='<audio id="sound" controls ></audio>';var i=n.querySelector("audio#sound");this.autio=i,this.refresh(),this.randList();var r=this;document.addEventListener("click",(function(e){r.$refs.setting&&!r.$refs.setting.$el.contains(e.target)&&(r.showSetting=0)}))},activated:function(){},deactivated:function(){clearInterval(this.timer)},computed:{listenChangeCn:function(){return{rightCn:this.rightCn,wrongCn:this.wrongCn}}},methods:{count:function(e,t){return this.config.countMap||(this.config.countMap={}),this.config.countMap[this.lan]||(this.config.countMap[this.lan]={}),null==this.config.countMap[this.lan][e[this.lan]]&&(this.config.countMap[this.lan][e[this.lan]]=0),void 0!==t&&(this.config.countMap[this.lan][e[this.lan]]=t,this.saveConfig()),this.config.countMap[this.lan][e[this.lan]]},updateAvailable:function(e){this.registration=e.detail,this.updateExists=!0,this.refreshApp()},refreshApp:function(){this.updateExists=!1,this.registration&&this.registration.waiting&&this.registration.waiting.postMessage({type:"SKIP_WAITING"})},openGame:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=s.a.get("pwd");if(n){var i=prompt("pwd");if(i==n)if(t){n=prompt("setting pwd");var r=prompt("setting pwd");n==r&&s.a.set("pwd",n)}else this.startShowGame(e)}else(n=prompt("setting pwd"))&&s.a.set("pwd",n),this.startShowGame(e)},refresh:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,!e.refresing){t.next=3;break}return t.abrupt("return");case 3:e.refresing=1,i=5;case 5:if(!(i>=0)){t.next=21;break}return t.prev=6,t.next=9,new Promise((function(e,t){d.a.ajax({url:"https://smlog.github.io/data/dict.js",dataType:"jsonp",jsonpCallback:"cb"}).done((function(t){var i=n.dictList,o=0==i.length,a=i.reduce((function(e,t){return e[t.en]=null==t.c?0:t.c,e}),{});i.length=0;var c=JSON.parse(l.a.ungzip(atob(t),{to:"string"}));Object.assign(n.config,c.config||{}),n.saveConfig(),i.push.apply(i,Object(r.a)(c.items)),i.forEach((function(e){e.c=null==a[e.en]?0:a[e.en]})),o&&n.randList(),s.a.set("dicts",i),e()})).fail((function(e){t(e)}))}));case 9:return t.abrupt("break",21);case 12:return t.prev=12,t.t0=t.catch(6),0==i&&alert("fail refresh data"),t.next=18,new Promise((function(e){return setTimeout(e,3e3)}));case 18:i--,t.next=5;break;case 21:e.syning=0,e.refresing=0;case 23:case"end":return t.stop()}}),t,null,[[6,12]])})))()},fillLetterIndex:function(e){var t=this;-1==this.fill.indexOf(e)&&(this.fill.push(e),this.fill.length==this.letters2.length&&(this.isCorrect=this.fill.map((function(e){return t.letters2[e]})).join("")==this.letters.join("")?1:2,1==this.isCorrect?Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.select(0,t.list[0]);case 2:return e.next=4,new Promise((function(e){return setTimeout(e,1e3)}));case 4:case"end":return e.stop()}}),e)})))():2==this.isCorrect&&this.say("no","en")))},unFillLetterIndex:function(e){this.fill.length>e&&this.fill.splice(e)},sendFeedBack:function(e){var t=this.list[this.curIndex];null==t.rTimes&&(t.rTimes=0),e!=this.curIndex?(t.rTimes>0&&(t.rTimes=0),t.rTimes--):t.rTimes++},closeGame:function(){this.showGameIf=!1,clearTimeout(this.timer),this.randList()},startShowGame:function(e){var t=this;this.clockt=parseInt(60*e*1e3),this.showGameIf=!0,this.clockTimer&&clearInterval(this.clockTimer),this.clockTimer=setInterval((function(){t.clockt=t.clockt-1e3,t.clockt<=0&&(t.showGameIf=!1,clearInterval(t.clockTimer),t.randList())}),1e3)},replay:function(){var e=this.list[this.curIndex][this.lan];this.say(e)},select:function(e,t,n){var i=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!i.selected){r.next=3;break}return r.abrupt("return");case 3:if(i.clickIndex==e?i.clickIndex=-1:i.clickIndex=e,i.selected=1,o=t[i.lan],e!=i.curIndex){r.next=22;break}return i.lastYesIndex=e,(0!=i.mode&&3!=i.mode||3==i.mode&&!n)&&(i.rightCn++,i.curAct=1,i.count(t,i.count(t)+1)),r.next=11,i.say(o,i.lan);case 11:if(!(i.rightCn-i.wrongCn>=i.config.passNum)){r.next=16;break}return i.rightCn=0,r.abrupt("return",i.startShowGame(i.config.gameTime2));case 16:return r.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return r.next=20,i.randList();case 20:r.next=27;break;case 22:return r.next=24,i.say(o,i.lan);case 24:i.wrongCn++,i.curAct=-1,i.list.forEach((function(e){return i.count(e,i.count(e)-1)}));case 27:i.selected=0;case 28:case"end":return r.stop()}}),r)})))()},n:function(){return 1==this.mode?4:1},randList:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,i,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(n=Object.keys(e.config.enable).filter((function(t){return e.config.enable[t]}))).length){t.next=5;break}return alert("please select  at least one language first"),t.abrupt("return");case 5:if(e.lan=n[parseInt(Math.random()*n.length)],0!=e.dictList.length){t.next=8;break}return t.abrupt("return");case 8:for((i=e.dictList).length<e.n()&&(i=e.dictList),e.selected=0,e.list.length=0,e.fill.length=0,e.letters2.length=0,e.letters.length=0,e.isCorrect=0,r=0;r<e.n();r++)o=parseInt(i.length*Math.random()),e.list.indexOf(i[o])>-1?r--:e.list.push(i[o]);e.curIndex=parseInt(Math.random()*e.list.length),e.letters2=e.list[e.curIndex][e.lan].toLowerCase().trim().split("").sort(),e.letters=e.list[e.curIndex][e.lan].toLowerCase().trim().split(""),0!=e.mode&&e.replay(),e.clickIndex=-1;case 22:case"end":return t.stop()}}),t)})))()},say:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=3;break}return n.abrupt("return");case 3:return i=t.config.ttslan[t.lan],t.speaking=!0,r=t,n.abrupt("return",new Promise((function(n){var o="https://fanyi.baidu.com/gettts?lan=".concat(encodeURIComponent(i),"&text=").concat(encodeURIComponent(e.trim()),"&spd=3&source=web&cache=0");"en"==t.lan&&"YD"==localStorage.sound&&(o="https://dict.youdao.com/dictvoice?type=2&audio=".concat(encodeURIComponent(e.trim()),"&cache=0"));var a=t.autio,s=0;a.onerror=function(e){s<10&&(a.src=o,a.play()),s++},a.src=o,a.volume=1,a.addEventListener("ended",(function(){return r.speaking=!1,n()})),setTimeout((function(){a.play()}),10)})));case 7:case"end":return n.stop()}}),n)})))()},getWrongSetence:function(e){var t={en:["no no no","oh sorry.","incorrect","come on."]}[e];return t[parseInt(Math.random()*t.length)]},getRightSetence:function(e){var t={en:["yes yes yes","well done","good job"]}[e];return t[parseInt(Math.random()*t.length)]}},watch:{lanMode:function(){this.randList()},mode:function(){this.randList()}}},v=(n("0e62"),Object(h.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"user-select":"none"},attrs:{id:"con"}},[n("div",{staticStyle:{"text-align":"left",color:"red","min-height":"1em",height:"1em","margin-bottom":"8px"}},[e.rightCn-e.wrongCn>0?e._l(e.rightCn-e.wrongCn,(function(e){return n("font-awesome-icon",{key:e,attrs:{icon:"star","fixed-width":""}})})):e._e()],2),3!=e.mode&&e.list.length>0&&e.curIndex>=0?n("div",{staticClass:"word",staticStyle:{color:"dodgerblue","font-size":"300%","font-weight":"900","text-align":"center","margin-bottom":"10px"},on:{click:e.replay}},[e._v(" "+e._s(e.list[e.curIndex][e.lan])+" ")]):e._e(),n("ul",{staticClass:"figure-list",staticStyle:{"text-align":"center"}},e._l(e.list,(function(t,i){return n("li",{key:i,staticClass:"card",class:{click:e.clickIndex==i,ready:!e.selected},on:{click:function(n){return e.select(i,t,n)}}},[n("div",{staticClass:"card__content"},[n("div",{staticClass:"itemText card__back"},[n("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t[e.lan].toLowerCase()))]),0!=e.count(t)?n("span",{class:{red:e.count(t)>0,green:e.count(t)<0},staticStyle:{flex:"0","font-size":"80%",position:"absolute",bottom:"0"}},[e._v(e._s(0==e.count(t)?"":e.count(t)>0?"+":"")+e._s(e.count(t)))]):e._e()]),n("figure",{staticClass:"card__front",staticStyle:{cursor:"pointer"},style:{backgroundImage:"url("+t.img+"&cache=0)"}})])])})),0),n("div",{staticStyle:{cursor:"pointer","user-select":"none","margin-top":"10px","text-align":"center"}},[n("span",{on:{click:e.replay}},[n("font-awesome-icon",{class:{speaking:e.speaking},attrs:{icon:"volume-up","fixed-width":""}}),e._v("Replay ")],1),n("span",{staticStyle:{"margin-left":"10px"},on:{click:function(t){e.wrongCn+=3,e.randList()}}},[n("font-awesome-icon",{class:{speaking:e.speaking},attrs:{icon:"step-forward","fixed-width":""}}),e._v("Next")],1),n("span",{staticStyle:{"margin-left":"10px"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.mode=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"1"}},[e._v("Listen")]),n("option",{attrs:{value:"0"}},[e._v("Read")]),n("option",{attrs:{value:"3"}},[e._v("Write")])])]),n("span",{staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.refresh()}}},[n("font-awesome-icon",{attrs:{icon:"refresh","fixed-width":""}}),e._v("("+e._s(e.dictList.length)+")"+e._s(e.refresing?"...":""))],1),e._e(),n("span",{staticStyle:{"margin-left":"10px"},on:{click:function(t){t.stopPropagation(),e.showSetting=1}}},[n("font-awesome-icon",{attrs:{icon:"gear","fixed-width":""}}),e._v("Setting")],1),n("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"audio",staticStyle:{height:"0px",width:"0px"},attrs:{controls:"",referrerpolicy:"no-referrer"}})]),3==e.mode?n("div",{staticClass:"board",staticStyle:{"text-align":"center"}},[n("div",[n("div",{staticStyle:{position:"relative"}},e._l(e.letters,(function(t,i){return n("span",{key:""+t+i,staticClass:"al",staticStyle:{position:"relative"},on:{click:function(t){return e.unFillLetterIndex(i)}}},[i<e.fill.length?n("b",[e._v(e._s(e.letters2[e.fill[i]]))]):n("b",{staticStyle:{visibility:"hidden"}},[e._v(e._s(t))]),i==e.letters.length-1&&e.isCorrect?n("div",{staticStyle:{position:"absolute",top:"0",right:"-2em",color:"red"}},[n("font-awesome-icon",{attrs:{"fixed-width":"",icon:1==e.isCorrect?"thumbs-up":"thumbs-down"}})],1):e._e()])})),0),n("div",{staticStyle:{"border-top":"1px dashed #ccc"}},[e._l(e.letters2,(function(t,i){return[e.fill.indexOf(i)>-1?n("span",{key:""+t+i,staticClass:"al",staticStyle:{visibility:"hidden"},on:{click:function(t){return e.fillLetterIndex(i)}}},[e._v(" "+e._s(t))]):e._e()]})),e._l(e.letters2,(function(t,i){return[-1==e.fill.indexOf(i)?n("span",{key:""+t+i,staticClass:"al",on:{click:function(t){return e.fillLetterIndex(i)}}},[e._v(" "+e._s(t))]):e._e()]}))],2)])]):e._e(),e.showGameIf?n("div",{staticStyle:{background:"white"}},[n("GameList",{attrs:{showgame:e.showgame,id:"gamefr"},on:{select:function(t){e.showgame=1}}}),n("div",{staticStyle:{position:"fixed",top:"0",cursor:"pointer",right:"0",color:"white","z-index":"10000"}},[n("span",{on:{click:function(t){return e.openGame(6)}}},[e._v(e._s(e.clockt/1e3))]),n("span",{staticStyle:{"font-size":"1.5em"}},[n("font-awesome-icon",{staticStyle:{background:"black","border-radius":"1em","margin-right":"10px"},attrs:{icon:"arrow-left","fixed-width":""},on:{click:function(t){e.showgame=!e.showgame}}}),n("font-awesome-icon",{staticStyle:{background:"black","border-radius":"1em"},attrs:{icon:"times-circle","fixed-width":""},on:{click:function(t){return e.closeGame()}}})],1)])],1):e._e(),n("setting",{directives:[{name:"show",rawName:"v-show",value:e.showSetting,expression:"showSetting"}],ref:"setting",staticClass:"centered",staticStyle:{background:"white",padding:"10px"},on:{openGame:e.openGame}})],1)}),[],!1,null,"2572c398",null)).exports,w=n("ecee"),b=n("c074"),x=n("b702"),y=n("f2d1"),k=n("ad3d"),_=n("9483");Object(_.a)("".concat("","service-worker.js"),{ready:function(){},registered:function(){},cached:function(){},updatefound:function(){},updated:function(e){document.dispatchEvent(new CustomEvent("swUpdated",{detail:e}))},offline:function(){},error:function(e){}}),n("e9c4");var S=n("2f62");i.a.use(S.a);var C=new S.a.Store({state:{config:Object.assign({enable:{},gameTime1:0,gameTime2:0,sound:1},localStorage.config?JSON.parse(localStorage.config):{})},mutations:{config:function(e,t){e.config=Object.assign(e.config,t),localStorage.config=JSON.stringify(e.config)}},actions:{},modules:{},getters:{}}),I={data:function(){return{}},methods:{saveConfig:function(){this.$store.commit("config",{})}},computed:{config:function(){return this.$store.state.config}}};w.c.add(b.a,x.a,y.a),window.$=d.a,i.a.component("font-awesome-icon",k.a),i.a.component("font-awesome-layers",k.b),i.a.component("font-awesome-layers-text",k.c),i.a.config.productionTip=!1,i.a.mixin(I),new i.a({render:function(e){return e(v)},store:C,data:{eventHub:new i.a}}).$mount("#app");var L=0;document.documentElement.addEventListener("touchstart",(function(e){e.touches.length>1&&e.preventDefault()})),document.documentElement.addEventListener("touchend",(function(e){var t=(new Date).getTime();t-L<=300?e.preventDefault():L=t}),!1),document.documentElement.addEventListener("gesturestart",(function(e){e.preventDefault()}))},8309:function(e,t,n){},"984f":function(e,t,n){},b3b5:function(e,t,n){"use strict";n("42d1")}});