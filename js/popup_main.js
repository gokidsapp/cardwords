!function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],f=0,m=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(p&&p(t);m.length;)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={popup_main:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=s;i.push([0,"chunk-vendors"]),n()}({0:function(e,t,n){e.exports=n("0a3d")},"0a3d":function(e,t,n){"use strict";n.r(t),n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("c975"),n("7db0"),n("d3b7");var r=n("2b0e"),a=n("1da1"),i=n("b85c"),o=(n("96cf"),n("e9c4"),n("ac1f"),n("5319"),n("498a"),n("d81d"),n("26e9"),n("fb6a"),n("4de4"),n("4795"),n("a434"),n("da7e")),c=n.n(o),s=n("ba5f"),u=n("d7ac"),p=n.n(u),f={data:function(){return{curItem:null,items:c.a.get("dicts")||[],config:{imgBase:"",ttsBase:"",passNum:40,gameTime1:3,gameTime2:6,langs:["en","zh","yue"],tips:{en:["no no no","oh sorry.","incorrect","come on."],zh:["继续努力","加油！"],yue:["继续努力","加油！"]},ttslan:{en:"en",zh:"zh",yue:"cte"},url:"https://smlog.github.io/data/dict.js",games:[{_blank:1,name:"pbskids.org games",imgUrl:"https://cms-tc.pbskids.org/global/mezzanines/_shellTopicBlock/Sesame_Puppy-Pet-Care_PBSGameFeature_908x510.jpg",url:"https://pbskids.org/games"},{name:"圈小猫",imgUrl:"images/logo.jpg",path:"cat"},{name:"匹配游戏",path:"card"},{name:"方块消除",imgUrl:"bitmap/logo.png",path:"remove"},{name:"数字推盘",path:"szhrdGame"},{name:"Bubble"},{name:"五子棋",path:"wuziqi"},{name:"五子棋2",path:"wuziqi2"},{name:"unlock"},{name:"connection"},{name:"master_checkers_v3"},{name:"numpuz"},{name:"pintu",imgUrl:"assets/img_480/game_logo.png"},{name:"blue casino",path:"blue2"},{name:"lollipop"},{path:"smarty-bubbles-2",name:"smarty bubbles",imgUrl:"SmartyBubbles2Teaser.jpg"},{name:"ppiano",imgUrl:"PerfectPiano_Teaser.jpg"},{name:"pianoonline"},{path:"pvz",name:"Plant zombie",imgUrl:"images/interface/Logo.jpg",src:"http://crge.cn/games"}]},page:0,pages:1,pageSize:10,en:""}},mounted:function(){var e=this;chrome.runtime.onMessage.addListener((function(t,n,r){t&&"image"==t.contents._page&&t.contents.value&&(r(t),e.curItem.en&&t.contents.value&&(e.curItem.img=t.contents.value,e.save()))}))},methods:{upload:function(){confirm("upload Y?")&&Object(s.b)(null,{cmd:"upload",content:{config:this.config,items:this.items}},(function(e){e&&alert(JSON.stringify(e))}))},download:function(){var e=this;confirm("download Y/N?")&&fetch("https://smlog.github.io/data/dict.js").then((function(e){return e.text()})).then((function(t){var n,r=t.trim().substring(4).replace('");',""),a=JSON.parse(p.a.ungzip(atob(r),{to:"string"})).items,o=Object(i.a)(a);try{for(o.s();!(n=o.n()).done;){var c=n.value,s=void 0;null==e.map[c.en]&&(s={},e.items.push(s),Object.assign(s,c),e.map[s.en]=e.items.length-1)}}catch(e){o.e(e)}finally{o.f()}e.save()})).catch((function(e){alert("error:"+e)}))},pageList:function(){var e=this.searchItems().slice().reverse();if(e.length>0){var t=this.page*this.pageSize,n=(1+this.page)*this.pageSize;e=e.slice(t,n)}return e},searchItems:function(){var e=this;return this.en?this.items.filter((function(t){return t.en.indexOf(e.en)>-1})):this.items},addItem:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r={en:e,img:""},t.trans(r),t.items.push(r);case 3:case"end":return n.stop()}}),n)})))()},selectItem:function(e){this.curItem=e},search:function(e){e&&chrome.runtime.sendMessage({_page:"ui",value:e},(function(e){}))},transAll:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,r=e.pageList();case 1:if(!(n<r.length)){t.next=7;break}return t.next=4,e.trans(r[n]);case 4:n++,t.next=1;break;case 7:case"end":return t.stop()}}),t)})))()},trans:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function n(){var r,a,i,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t,a=t.config.langs,!e.en){n.next=15;break}i=0;case 4:if(!(i<a.length)){n.next=14;break}if(!e[a[i]]){n.next=7;break}return n.abrupt("continue",11);case 7:return n.next=9,new Promise((function(t){Object(s.b)(null,{cmd:"translate",content:{q:e.en,opts:{to:a[i]}}},(function(n){n&&n.filter((function(e){return"BD"==e.src})).length>0&&n.filter((function(e){return"BD"==e.src}))[0].q==e.en&&t(n.filter((function(e){return"BD"==e.src}))[0].to)})),setTimeout((function(){t("")}),6e3)}));case 9:o=n.sent,e[a[i]]=o||e[a[i]];case 11:i++,n.next=4;break;case 14:r.$forceUpdate();case 15:case"end":return n.stop()}}),n)})))()},save:function(){c.a.set("dicts",this.items)},del:function(e){if(e&&confirm("delete?")){for(var t=0,n=this.items.length;t<n;t++)this.items[t].en==e.en&&(this.items.splice(t,1),n--,t--);this.save()}}},components:{}},m=(n("6786"),n("2877")),l=Object(m.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{display:"flex",flex:"1",position:"fixed",background:"white",top:"0",right:"0",left:"0","justify-content":"space-between"}},[n("div",{on:{click:function(t){return e.transAll()}}},[e._v("Translate all")]),n("div",{on:{click:function(t){return e.save()}}},[e._v("Save")]),n("div",{staticStyle:{margin:"5px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.en,expression:"en"}],domProps:{value:e.en},on:{focus:function(t){e.en=""},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addItem(e.en)},input:function(t){t.target.composing||(e.en=t.target.value)}}})])]),n("ul",{staticStyle:{"padding-top":"30px"}},e._l(e.pageList(),(function(t,r){return n("li",{key:t.en,class:{selected:e.curItem&&t.en==e.curItem.en},staticStyle:{display:"flex","margin-bottom":"10px"}},[n("div",{staticStyle:{display:"flex"}},[n("div",[e._v(e._s(e.items.length-(e.page*e.pageSize+r))+"、")]),n("div",[n("img",{staticStyle:{width:"60px",height:"60px"},style:{border:e.curItem&&t.en==e.curItem.en?"2px solid red":"none"},attrs:{referrerpolicy:"no-referrer",src:t.img},on:{click:function(n){return e.selectItem(t)}}})]),n("div",{staticStyle:{"margin-left":"10px"}},[n("div",{staticStyle:{display:"table"}},[n("div",{staticStyle:{display:"table-row"}},[n("div",{staticStyle:{display:"table-cell"}},[n("a",{on:{click:function(n){e.curItem=t,e.search(t.en)}}},[e._v("en")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.en,expression:"item['en']"}],staticStyle:{display:"table-cell"},domProps:{value:t.en},on:{input:function(n){n.target.composing||e.$set(t,"en",n.target.value)}}})]),e._l(e.config.langs,(function(r){return n("div",{key:r,staticStyle:{display:"table-row"}},[n("div",{staticStyle:{display:"table-cell"},on:{click:function(n){e.curItem=t,e.search(t[r])}}},[e._v(" "+e._s(r)+": ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t[r],expression:"item[lan]"}],staticStyle:{display:"table-cell"},domProps:{value:t[r]},on:{input:function(n){n.target.composing||e.$set(t,r,n.target.value)}}})])}))],2)]),n("div",{staticStyle:{"margin-left":"20px",display:"flex","flex-direction":"column"}},[n("a",{staticStyle:{cursor:"pointer"},on:{click:function(n){return n.stopPropagation(),e.del(t)}}},[e._v("Delete")]),n("a",{staticStyle:{cursor:"pointer"},on:{click:function(n){return n.stopPropagation(),e.trans(t)}}},[e._v("trans")])])])])})),0),n("div",{staticStyle:{position:"fixed",bottom:"0",right:"0","text-align":"right",margin:"5px","user-select":"none"}},[e.page>=1?n("a",{staticClass:"ctrl",staticStyle:{cursor:"pointer",color:"blue","font-weight":"bold"},on:{click:function(t){e.page=e.page-1}}},[e._v(" Prev ")]):e._e(),e.page<=parseInt((e.items.length+1)/e.pageSize)?n("a",{staticClass:"ctrl",staticStyle:{cursor:"pointer",color:"blue","font-weight":"bold"},on:{click:function(t){e.page=e.page+1}}},[e._v(" Next("+e._s(e.page)+") ")]):e._e(),e._v(" Total:"+e._s(e.items.length)+" "),n("a",{on:{click:function(t){return e.upload()}}},[e._v("Upload")]),n("a",{on:{click:function(t){return e.download()}}},[e._v("Download")]),n("span",[e._v("Page Size:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pageSize,expression:"pageSize"}],staticStyle:{width:"40px"},attrs:{min:"10",max:"1000",type:"number"},domProps:{value:e.pageSize},on:{input:function(t){t.target.composing||(e.pageSize=t.target.value)}}})])])}),[],!1,null,"b7a32d96",null).exports,d=n("487a"),g=n.n(d),h=n("1157"),v=n.n(h);if(chrome.runtime.sendMessage({_page:"1"},(function(e){})),location.href.indexOf("image.baidu.com")>-1)v()((function(){v()("body").on("click",".imgitem",(function(){return chrome.runtime.sendMessage({_page:"image",value:v()(this).find("img").eq(0).attr("data-imgurl")},(function(e){})),!1})),chrome.runtime.onMessage.addListener((function(e,t,n){e&&"ui"==e.contents._page&&e.contents.value&&(n(e),v()("#kw").val(e.contents.value),v()("#kw").closest("form").trigger("submit"))})),v()(document).on("scroll",(function(){v()(".newfcImgli").remove(),v()(".imgitem img").each((function(){var e=v()(this).closest(".imgbox");if(e.find(".mark").length>0)return!0;e.prepend('<input class="mark" style="position:absolute;z-index:1000;" type="checkbox"/>')}))}))}));else{r.a.prototype.$http=c.a,r.a.prototype.$storejs=c.a,r.a.use(g.a);var b=document.createElement("div"),y="dictword_app";b.setAttribute("id",y),document.body.appendChild(b),new r.a({render:function(e){return e(l)}}).$mount("#"+y)}},"1dda":function(e,t,n){},6786:function(e,t,n){"use strict";n("1dda")},ba5f:function(e,t,n){"use strict";n.d(t,"b",(function(){return Q})),n.d(t,"a",(function(){return W}));var r=n("2909"),a=n("1da1"),i=(n("96cf"),n("d3b7"),n("13d5"),n("a15b"),n("ac1f"),n("00b4"),n("4de4"),n("c975"),n("498a"),n("d81d"),n("0d03"),n("4795"),n("4160"),n("b0c0"),n("a434"),n("99af"),n("e9c4"),n("9257"),n("4d12"),n("accc"),n("4e82"),n("e25e"),n("bc3a")),o=n.n(i);n("fb6a"),n("1276");var c=n("1157"),s=n.n(c),u=n("da7e"),p=n.n(u),f=new(n("2b0e").a),m=(n("277d"),n("a630"),n("3ca3"),n("a9e3"),n("466d"),n("e323"),n("d401"),n("25f0"),n("6821")),l=n.n(m),d="20181025000225318",g="s0rbKVj44RcEH9m4yXrf";function h(){return chrome&&chrome.runtime&&chrome.runtime.sendMessage}function v(e,t){return b.apply(this,arguments)}function b(){return(b=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},a=0,e.prev=3,!chrome.tabs){e.next=9;break}return e.next=7,O(t,n);case 7:r=e.sent,a=1;case 9:e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),r.error=e.t0,a=0;case 16:if(a){e.next=21;break}return e.next=19,y(t);case 19:(i=e.sent)&&(r=Object.assign(r,i));case 21:return r.src="BD",e.abrupt("return",r);case 23:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function y(e){return x.apply(this,arguments)}function x(){return(x=Object(a.a)(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(new Date).getTime(),r=l()(d+t+n+g),a="en",i="zh",o=h()?"json":"jsonp",c=0;case 6:if(!(c<3)){e.next=22;break}return e.prev=7,e.next=10,new Promise((function(e,c){s.a.ajax({url:"https://api.fanyi.baidu.com/api/trans/vip/translate",type:"get",dataType:o,timeout:5e3,data:{q:t,appid:d,salt:n,from:a,to:i,sign:r,tts:0,dict:0},success:function(t){e({from:t.trans_result[0].src,to:t.trans_result[0].dst})},error:function(e){c(e)}})}));case 10:return u=e.sent,e.abrupt("return",u);case 15:throw e.prev=15,e.t0=e.catch(7),e.t0;case 19:c++,e.next=6;break;case 22:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}var w,k,j=function(e){function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e,t){for(var n=0;n<t.length-2;n+=3){var r=t.charAt(n+2);r=r>="a"?r.charCodeAt(0)-87:Number(r),r="+"===t.charAt(n+1)?e>>>r:e<<r,e="+"===t.charAt(n)?e+r&4294967295:e^r}return e}var r=null;return function(e){var a=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g);if(null===a){var i=e.length;i>30&&(e=""+e.substr(0,10)+e.substr(Math.floor(i/2)-5,10)+e.substr(-10,10))}else{for(var o=e.split(/[\uD800-\uDBFF][\uDC00-\uDFFF]/),c=0,s=o.length,u=[];s>c;c++)""!==o[c]&&u.push.apply(u,t(o[c].split(""))),c!==s-1&&u.push(a[c]);var p=u.length;p>30&&(e=u.slice(0,10).join("")+u.slice(Math.floor(p/2)-5,Math.floor(p/2)+5).join("")+u.slice(-10).join(""))}for(var f=""+String.fromCharCode(103)+String.fromCharCode(116)+String.fromCharCode(107),m=(null!==r?r:(r=window[f]||"")||"").split("."),l=Number(m[0])||0,d=Number(m[1])||0,g=[],h=0,v=0;v<e.length;v++){var b=e.charCodeAt(v);128>b?g[h++]=b:(2048>b?g[h++]=b>>6|192:(55296==(64512&b)&&v+1<e.length&&56320==(64512&e.charCodeAt(v+1))?(b=65536+((1023&b)<<10)+(1023&e.charCodeAt(++v)),g[h++]=b>>18|240,g[h++]=b>>12&63|128):g[h++]=b>>12|224,g[h++]=b>>6&63|128),g[h++]=63&b|128)}for(var y=l,x=""+String.fromCharCode(43)+String.fromCharCode(45)+String.fromCharCode(97)+String.fromCharCode(94)+String.fromCharCode(43)+String.fromCharCode(54),w=""+String.fromCharCode(43)+String.fromCharCode(45)+String.fromCharCode(51)+String.fromCharCode(94)+String.fromCharCode(43)+String.fromCharCode(98)+String.fromCharCode(43)+String.fromCharCode(45)+String.fromCharCode(102),k=0;k<g.length;k++)y=n(y+=g[k],x);return y=n(y,w),0>(y^=d)&&(y=2147483648+(2147483647&y)),(y%=1e6).toString()+"."+(y^l)}}();function O(e,t){return S.apply(this,arguments)}function S(){return(S=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=4;break}return e.next=4,o.a.get("https://fanyi.baidu.com/#/en/zh").then((function(e){return k=e.data.match(/window.gtk = ["'](.*?)["']/)[1],w=e.data.match(/token: ["'](.*?)["']/)[1],window.gtk=k,[k,w]}));case 4:return r=Object.assign({from:"en",to:"zh",query:t,transtype:"realtime",simple_means_flag:3,sign:j(t,k),token:w,domain:"common"},n||{}),e.next=7,o()({url:"https://fanyi.baidu.com/v2transapi?from=en&to=zh",method:"post",data:r,transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t.substring(0,t.length-1)}],headers:{"Content-Type":"application/x-www-form-urlencoded",Origin:"https://fanyi.baidu.com",Referer:"https://fanyi.baidu.com/"}}).then((function(e){var n=e.data,r={q:t};return n.dict_result?(r.to=n.trans_result.data[0].dst,r.am=n.dict_result.simple_means.symbols[0].am,n.dict_result.simple_means.symbols[0].en!=r.am&&(r.en=n.dict_result.simple_means.symbols[0].en),n.dict_result.simple_means.symbols&&(r.parts=n.dict_result.simple_means.symbols[0].parts)):n.trans_result&&(r.to=n.trans_result.data[0].dst),r}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n("b64b");var C=n("d7ac"),R=new(n("98fc"));function I(e){return JSON.parse(C.ungzip(atob(e),{to:"string"}))}function A(){return(A=Object(a.a)(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.url){e.next=2;break}return e.abrupt("return");case 2:return n="https://medium.ngtv.io/media/","https://fave.api.cnn.io",r="https://fave.api.cnn.io/v1/video?id="+t.vid+"&customer=cnn&edition=international&env=prod",e.next=7,fetch(r).then((function(e){return e.json()}));case 7:return a=e.sent,i=a.mediumId,o=n+i+"?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBJZCI6ImNubi1jbm4td2ViLTk1am96MCIsIm5ldHdvcmsiOiJjbm4iLCJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJjbm4iLCJpYXQiOjE1MjQ2ODQwMzB9.Uw8riFJwARLjeE35ffMwSa-37RNxCcQUEp2pqwG9TvM",e.next=12,fetch(o).then((function(e){return e.json()}));case 12:c=e.sent,"",u=navigator.userAgent,s=/ipad|tablet/i.test(u)?"tablet":/mobile/i.test(u)?"phone":"desktop",a.closedCaptions&&a.closedCaptions.types&&(t.cc=a.closedCaptions.types.filter((function(e){return"webvtt"==e.format&&e.track&&e.track.url}))[0].track.url),t.url=c.media[s].unprotected.secureUrl;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e){var t=(e.url||e.vid).match(/\d{4}\/\d{2}\/\d{2}/),n=t&&t.length>0&&t[0],r=new Date(n).getTime();return e.d=n,e.dt=r,e.i=0,e},z={crossOrigs:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=encodeURIComponent,e.next=3,fetch(t?"https://api.allorigins.win/raw?url="+a(n):n,{method:"get",headers:{}}).then((function(e){return"json"==r?e.json():e.text()})).then((function(e){return"xml"==r?R.xml2js(e):e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),mods:{videos:{m:{cnn:{ext:function(e){return A.apply(this,arguments)},res:[{type:"xml",urls:I("H4sIAAAAAAAAA6WQsQrDMAxE/yVzsArd8iulg2sJbCpbIZLT5O+ToUvGoOGGg7vHca8hm806ARAWK9JCaqekwlqQBDBahGd4/O2na2mkCgtxNEINW+VhvAfJFNmyCzELn6nk22GUfCt+sjC6CJSkSd1djO57oX+v9fcBtZyYihMCAAA="),conv:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=0;a<t.videos.video.length;a++)i=t.videos.video[a],o={vid:i.id,title:i.headline,src:n},r.push(_(o));return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{type:"json",urls:I("H4sIAAAAAAAAA4tWyigpKSi20tdPTcksyczP00vOA+L8XP2CnMTKnMziEv2S/ALdvNTyYt2yzJTU/GL9zLyU1Aq9rOL8PKVYAHICSjU/AAAA"),conv:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=0;a<t.length;a++)i=t[a],o={vid:i.videoId,title:i.title,src:n},r.push(_(o));return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]},cbs:{res:[{type:"json",crossOrig:1,urls:I("H4sIAAAAAAAAA62TwU4EIQyG32XPdvFgjPFVjAcGOgtZhpK2gL69w0STPcvcSEo//v9v+bgE1SLvxvTer26RjF2ujjbTokcyX4GNo5TQaaS8H7dCGbMapQKixBEFVmIgVXN5+i9tvwotpmRvCI08JKsoOqBwdIIn4gn+WlMCLFHI73ptVRrPzAgmpmxb5CqH4KFUXEBfE07mwFiIVU5ItCPeMXsYPZM4CdRBA0ItKa46SXt9hi3mus8YqCFr3PAEuxqiwEacY77BwjZ7nBkxNjxIJ6T36HcKxOhh9wVLqrOJjY0dqYnVyt5+/yU3gXx5g0CVp3et5gc9k7DVOjwWN9tRmaQNkNo7Uv39Ap8/+hmTQkEFAAA="),conv:function(e,t){return e.items.filter((function(e){return"vod"==e.type&&e.video2})).map((function(e){return _({vid:e.id,url:e.video2,title:e.fulltitle,cc:e.captions,src:t})}))}}]}}}}};function T(){return q.apply(this,arguments)}function q(){return(q=Object(a.a)(regeneratorRuntime.mark((function e(){var t,n,a,i,o,c,s,u,p,f,m,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(new Date).getTime(),n=Object.keys(z.mods.videos.m),a=[],i=0;case 4:if(!(i<n.length)){e.next=40;break}o=n[i],c=z.mods.videos.m[o],s=c.res,u=0;case 9:if(!(u<s.length)){e.next=37;break}p=s[u],f=0;case 12:if(!(f<p.urls.length)){e.next=34;break}return e.prev=13,m=p.urls[f],e.next=17,z.crossOrigs(p.crossOrig,m+"?t="+t,p.type);case 17:return l=e.sent,e.t0=a.push,e.t1=a,e.t2=r.a,e.next=23,p.conv(l,o);case 23:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),e.next=31;break;case 28:e.prev=28,e.t5=e.catch(13);case 31:f++,e.next=12;break;case 34:u++,e.next=9;break;case 37:i++,e.next=4;break;case 40:return d=[],a.reduce((function(e,t){return e[t.vid]||(e[t.vid]=1,d.push(t)),e}),{}),e.abrupt("return",d);case 43:case"end":return e.stop()}}),e,null,[[13,28]])})))).apply(this,arguments)}Object.keys(z.mods.videos.m);var P="SMLOG",D=n("d7ac"),M="words",N="nwords",U=JSON.parse,J=s()('<iframe id="myaudio" style="display:none;"/>');J.appendTo("body");var L=J[0];window.pako=D,window.storejs=p.a;var B=L.contentDocument||L.contentWindow.document;B.body.innerHTML='<audio id="sound" controls "></audio>\n<audio id="bg" controls   ></audio>';var F=B.querySelector("audio#sound"),E=B.querySelector("audio#bg");o.a.defaults.timeout=5e3;var G=[function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h()?"json":"jsonp",e.next=3,new Promise((function(e,r){s.a.ajax({url:"https://fanyi.youdao.com/openapi.do",type:"GET",data:{keyfrom:"wangtuizhijia",key:"1048394636",type:"data",doctype:n,version:"1.1",q:t.q},dataType:n,success:function(t){if(0==t.errorCode){var n={to:t.translation[0],q:t.query,src:"YD"};t.basic&&(n.am=t.basic["uk-phonetic"],n.en=t.basic["us-phonetic"]),e(n)}else r(t)},error:function(t){e(t)}})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t.q,t.opts);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n={}).src="Dict",n.q=t.q,!1,e.next=8;break;case 8:return e.next=10,L.contentWindow.fetch("https://dict.iciba.com/dictionary/word/suggestion?word=".concat(encodeURIComponent(t.q),"&nums=1&timestamp=0&is_need_mean=1"),{mode:"cors"}).then((function(e){return e.json()}));case 10:(r=e.sent).message.length>0&&(n.to=r.message[0].paraphrase||r.message[0].means.reduce((function(e,t){return e+t.part+" "+t.means.join(",")}),""));case 13:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];function V(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,{responseType:"blob"}).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result;t(n)},n.readAsDataURL(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H={};function Q(e,t,n){var r=function(e){e&&e.error&&f.$emit("error",e),n(e)};return h()?(H[t.reqId||t.cmd]=r,chrome.runtime.sendMessage(e,t,r)):W(e,t,r)}h()&&(window.onMessageListener=function(e,t,n){if(e&&e.cmd){var r=H[e.reqId||e.cmd];r&&r(e.contents)}n(e.contents)},chrome.runtime.onMessage.addListener(window.onMessageListener));var X={token:function(e,t){var n="token "+e.content;fetch("https://api.github.com/user",{method:"get",headers:{accept:"application/vnd.github.v3+json",Authorization:n}}).then((function(e){return e.json()})).then((function(n){n.name&&p.a.set("token",e.content),t(n)}))},lists:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var r,i,o,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},i=0,e.next=4,$(t.type,t.force,(function(){i++,setTimeout((function(){Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe[t.type](t,n);case 2:i--,n({done:!i});case 4:case"end":return e.stop()}}),e)})))()}),1e3)}));case 4:if(t.type==M){for(o=ve(t.type)||[],c=0,s=o.length;c<s;c++)o[c].i||o[c].n||(o.splice(c,1),s--,c--);he(t.type,o)}r.contents=ve(t.type)||[],r.done=!i,n(r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),newWord:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,c,s,u,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},t.content.q=t.content.q.trim(),t.content.q){e.next=6;break}return r.error="empty word",n(r),e.abrupt("return");case 6:a=ve(M)||[],i=ve(N)||[],o=t.content.q.toLocaleLowerCase(),c=[i,a],s=0;case 11:if(!(s<c.length)){e.next=29;break}u=c[s],p=0,f=u.length;case 14:if(!(p<f)){e.next=26;break}if(u[p].q!=o){e.next=23;break}return u.splice(p,1),p--,f--,1==s&&he(M,a),s=c.length,e.abrupt("break",26);case 23:p++,e.next=14;break;case 26:s++,e.next=11;break;case 29:i.unshift(Object.assign({},t.content,{q:o}));try{he(N,i,1)}catch(e){alert(e)}r.contents=t.content,n(r);case 33:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),translate:function(e,t){var n=[];G.map((function(r){return r(e.content).then((function(e){n.push(e),t(n)}))}))},bg:function(e){e.pause||(E.currentTime=0)},audio:function(e,t){if(e.pause)return F.pause(),t({}),!1;F.title=e.content.trim(),B.title=F.title;var n="".concat("https://fanyi.baidu.com","/gettts?lan=").concat(e.lang||"en","&text=").concat(encodeURIComponent(e.content),"&spd=5&source=web&cache=0");return F.src=n,F.load(),E.pause(),F.play(),e.wait?(F.onerror=F.onended=function(){E.play(),t({})},!0):(t({}),!1)},setConfig:function(e,t){p.a.set("config",e.content),t(K())},getConfig:function(e,t){t(K())},content:function(e,t){!function(e,t){fe.apply(this,arguments)}(e,t)},urls:function(e,t){!function(e,t){me.apply(this,arguments)}(e,t)},upload:function(e,t){Object(a.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,s,u,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,r=P,a="data",i="dict.js",o=0;case 5:if(!(o<e.content.length)){n.next=17;break}if("http"!=(c=e.content[o]).img.substring(0,4)){n.next=14;break}return n.next=10,V(c.img);case 10:return s=n.sent,c.img="img/"+btoa(c.img)+"."+s[0],n.next=14,ae(r,a,c.img,s[1],0);case 14:o++,n.next=5;break;case 17:return u=btoa(D.gzip(JSON.stringify(e.content),{to:"string",level:9})),p='\n          cb("'.concat(u,'");\n          '),n.next=21,ae(r,a,i,p,0);case 21:return n.abrupt("return",t(e.content));case 24:return n.prev=24,n.t0=n.catch(0),n.abrupt("return",t("error"));case 27:case"end":return n.stop()}}),n,null,[[0,24]])})))()}};function K(){return p.a.get("config")||{}}function W(e,t,n){var r=function(r){h()?chrome.tabs.sendMessage(e.tab.id,{cmd:t.cmd,reqId:t.reqId,contents:r},(function(e){})):n(r)};return X[t.cmd]&&Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X[t.cmd](t,r);case 2:case"end":return e.stop()}}),e)})))(),!0}function $(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=Object(a.a)(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(new Date).getTime(),K()["show"+t]){e.next=4;break}return e.abrupt("return");case 4:if(i="_"+t,o=p.a.get(i)||0,!(n||a-o>18e5)){e.next=10;break}return e.next=9,r();case 9:p.a.set(i,a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t,n,r,a){return te.apply(this,arguments)}function te(){return(te=Object(a.a)(regeneratorRuntime.mark((function e(t,n,r,a,i){var o,c,s,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.a.get("token"),c="token "+o,s={accept:"application/vnd.github.v3+json"},o&&(s.Authorization=c),u="https://api.github.com/repos/".concat(t,"/").concat(n,"/contents/").concat(r)+(a?"?ref=".concat(a):""),u+=i?(u.indexOf("?")>-1?"&":"?")+"cache=".concat(i):"",e.next=8,fetch(u,{method:"get",headers:s}).then((function(e){return e.json()}));case 8:return f=e.sent,e.abrupt("return",f.content);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var a,i,o,c,s,u,f,m,l,d,g,h,v,b,y,x=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.name,i=t.rep,o=t.path,c=t.since,s=!(x.length>2&&void 0!==x[2])||x[2],u="https://api.github.com/repos/".concat(a,"/").concat(i,"/commits?path=").concat(encodeURIComponent(o),"&per_page=100"),c&&(u+="&since="+encodeURIComponent(c)),f=p.a.get("token"),m="token "+f,l={accept:"application/vnd.github.v3+json"},f&&(l.Authorization=m),d=1,g=[];case 10:return e.next=12,fetch(u+"&page="+d,{method:"get",headers:l}).then((function(e){return e.json()}));case 12:if(h=e.sent,g.push.apply(g,Object(r.a)(h)),!(h.length<100)){e.next=16;break}return e.abrupt("break",19);case 16:d++;case 17:e.next=10;break;case 19:v=0;case 20:if(!(v<g.length)){e.next=32;break}return b=g[v],e.next=24,ee(a,i,o,b.sha);case 24:return y=e.sent,e.next=27,n(b,s?ue(y):y,v);case 27:if(!e.sent){e.next=29;break}return e.abrupt("return");case 29:v++,e.next=20;break;case 32:return e.abrupt("return",g);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t,n,r,a){return ie.apply(this,arguments)}function ie(){return(ie=Object(a.a)(regeneratorRuntime.mark((function e(t,n,r,a,i){var o,c,s,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=p.a.get("token"),c="token "+o,s="https://api.github.com/repos/".concat(t,"/").concat(n,"/contents/").concat(r),o){e.next=5;break}return e.abrupt("return",{error:"token?"});case 5:return e.next=7,fetch(s,{method:"get",headers:{accept:"application/vnd.github.v3+json"}}).then((function(e){return e.json()}));case 7:return u=e.sent,f=u.sha,e.next=11,fetch(s,{method:"put",body:JSON.stringify({message:"update"+new Date,branch:"main",content:se(i?de(a):a),sha:f}),headers:{accept:"application/vnd.github.v3+json",Authorization:c}}).then((function(e){return e.json()}));case 11:return u=e.sent,e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return ce.apply(this,arguments)}function ce(){return(ce=Object(a.a)(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ve("videos")||[],p.a.get("token")){e.next=4;break}return e.abrupt("return",t);case 4:return n=t.reduce((function(e,t){return e[t.vid]=1,e}),{}),e.next=7,T();case 7:r=e.sent,a=0;case 9:if(!(a<r.length)){e.next=17;break}if(i=r[a],!n[i.vid]){e.next=13;break}return e.abrupt("continue",14);case 13:t.unshift(i);case 14:a++,e.next=9;break;case 17:return t.sort((function(e,t){return t.dt-e.dt})),t.length=Math.min(500,t.length),he("videos",t),e.abrupt("return",t);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return btoa(unescape(encodeURIComponent(e)))}function ue(e){return decodeURIComponent(escape(atob(e)))}var pe={words:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var a,i,o,c,s,u,f,m,l,d,g,h,v,b,y,x,w,k,j,O,S,C,R,I,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=K(),i=P,o="data",c="update.json",s=t.type+"Since",u=ve(M)||[],f=ve(N)||[],m=p.a.get(s),l=m,d=f.filter((function(e){return!e.i&&e.n||e.i&&!e.n})).map((function(e){for(var t in e)"_"==t[0]&&delete e[t];return e})),g=[],h={},v=0;case 14:if(!(v<10)){e.next=31;break}return b=l,e.prev=16,e.next=19,ne({name:i,rep:o,path:c,since:b},(function(e,t,n){0==n&&(m=e.commit.committer.date);var a=U(t);b=e.commit.committer.date,g.push.apply(g,Object(r.a)(a))}));case 19:return e.abrupt("break",31);case 22:return e.prev=22,e.t0=e.catch(16),h.error=e.t0,e.next=28,new Promise((function(e){return setTimeout(e,3e3)}));case 28:v++,e.next=14;break;case 31:for(u.unshift.apply(u,g),y={},x=[f,u],w=0;w<x.length;w++)for(j=0,O=(k=x[w]).length;j<O;j++)(S=k[j]).q&&!y[S.q]&&S.n||(k.splice(j,1),O--,j--),y[S.q]=(y[S.q]||0)+1;if(he(M,u),he(N,f,1),C=f.concat(u),m&&p.a.set(s,new Date(new Date(m).getTime()+1e3).toISOString()),!(a.fzWords>0&&d.length>a.fzWords)){e.next=51;break}if(R=d.map((function(e){return Object.assign({},e,{i:1})})),I=JSON.stringify(R),!(R.length>0)){e.next=51;break}return e.next=47,ae(i,o,c,I);case 47:A=e.sent,h.error=A.error,A.commit&&(p.a.set(s,new Date(new Date(A.commit.committer.date).getTime()+1e3).toISOString()),u.unshift.apply(u,Object(r.a)(R)),he(M,u),f.length=0,he(N,f,1),C=u);case 51:h.contents=C,n(h);case 53:case"end":return e.stop()}}),e,null,[[16,22]])})));return function(t,n){return e.apply(this,arguments)}}(),news:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var a,i,o,c,s,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P,"data","l.json",a=t.type+"Since",i=p.a.get(a),o=ve(t.type)||[],c=[],e.next=9,ne({name:"SMLOG",rep:"data",path:"l.json",since:i},(function(e,t,n){if(0==n&&(i=e.commit.committer.date),t){var a=ge(t),o=U(a);return c.push.apply(c,Object(r.a)(o)),c.length>500||void 0}}),!1);case 9:s=e.sent,u=o.reduce((function(e,t){return e[t.p]=1,e}),{}),o.unshift.apply(o,Object(r.a)(c.filter((function(e){return!u[e.p]})))),o.sort((function(e,t){return parseInt(t.date)-parseInt(e.date)})),p.a.set(a,i),(f={}).error=s.message,f.contents=o,o.length=Math.min(500,o.length),he(t.type,o),n(f);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),videos:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var a,i,o,c,s,u,f,m,l,d,g,h,v,b,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P,i="data",o="v1.json",e.next=5,oe();case 5:return c=e.sent,s=t.type+"Since",u=p.a.get(s),m=[],l=K(),0==c.length&&(u=0),n({contents:c}),e.prev=12,e.next=15,ne({name:a,rep:i,path:o,since:u},(function(e,t,n){0==n&&(u=e.commit.committer.date);var a=t;if(a){a=ge(t);var i=U(a);m.push.apply(m,Object(r.a)(i))}}),0);case 15:for(c.unshift.apply(c,m),d={},g=0,h=c.length;g<h;g++)d[c[g].vid]?(c.splice(g,1),g--,h--):d[c[g].vid]=1;if(c.sort((function(e,t){return t.dt-e.dt})),he(t.type,c),u&&p.a.set(s,new Date(new Date(u).getTime()+1e3).toISOString()),v=(new Date).getTime()-432e6,b=c.filter((function(e){return!e.i&&e.dt>v})),!(l.fzVideos>0&&b.length>=l.fzVideos)){e.next=30;break}return e.next=27,ae(a,i,o,JSON.stringify(b.map((function(e){for(var t in e)"_"==t[0]&&delete e[t];return Object.assign({i:1},e)}))),1);case 27:(y=e.sent).commit&&(b.map((function(e){return e.i=1})),he(t.type,c),p.a.set(s,new Date(new Date(y.commit.committer.date).getTime()+1e3).toISOString())),f=y.error;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(12),f=e.t0;case 36:n({error:f,contents:c});case 37:case"end":return e.stop()}}),e,null,[[12,32]])})));return function(t,n){return e.apply(this,arguments)}}()};function fe(){return(fe=Object(a.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(P,"data",t.content.p).then((function(e){var t=ue(e);t=le(e),n({content:t})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return(me=Object(a.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(P,"data",t.content.p,0,t.content.cache).then((function(e){var t=D.ungzip(window.atob(e),{to:"string"});n({content:U(t)})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return D.ungzip(e,{to:"string"})}function de(e){return D.gzip(e,{to:"string"})}function ge(e){var t;try{t=ue(e)}catch(n){t=atob(e)}try{t=le(t)}catch(e){}return t}function he(e,t,n){localStorage.setItem(e,n?JSON.stringify(t):D.gzip(JSON.stringify(t),{to:"string",level:9}))}function ve(e){var t=localStorage.getItem(e);return t&&U("["==t[0]?t:D.ungzip(localStorage.getItem(e),{to:"string"}))}}});